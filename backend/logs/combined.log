{"level":"warn","message":"No wallet configured for contract writes","service":"kudipay-backend","timestamp":"2025-10-19 13:12:57"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking pause status:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-19 13:12:58"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error getting contract owner: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:05"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error getting total registered users: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:10"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error validating phone number: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:16"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error validating phone number: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:23"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error validating phone number: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:30"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error checking phone registration: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:35"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error checking wallet registration: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:41"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error getting wallet for phone: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:48"}
{"level":"warn","message":"No wallet configured for contract writes","service":"kudipay-backend","timestamp":"2025-10-19 13:38:33"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking pause status:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-19 13:38:34"}
{"code":"ETIMEDOUT","level":"error","message":"Error getting contract owner:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-19 13:38:35"}
{"level":"warn","message":"No wallet configured for contract writes","service":"kudipay-backend","timestamp":"2025-10-19 13:40:10"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking pause status:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-20 20:46:39"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 10:04:14"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 10:04:14"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 10:05:45"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:07:08"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:07:08 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:07:08"}
{"ETH_NGN":2506151.8942484967,"ETH_USD":1652.539636714471,"USDT_NGN":1492.052237271823,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:10:45"}
{"ETH_NGN":2479353.890930978,"ETH_USD":1606.333339712495,"USDT_NGN":1500.595547959866,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:15:45"}
{"ETH_NGN":2519701.0279775765,"ETH_USD":1590.397876440786,"USDT_NGN":1505.9461066308902,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:20:45"}
{"ETH_NGN":2524389.1771372133,"ETH_USD":1586.1671308630196,"USDT_NGN":1509.6705484555407,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:25:45"}
{"ETH_NGN":2510344.304360267,"ETH_USD":1635.0454566498415,"USDT_NGN":1510.030404324293,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:30:45"}
{"ETH_NGN":2558840.6625371464,"ETH_USD":1651.6507290783875,"USDT_NGN":1507.5888234473935,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:35:45"}
{"ETH_NGN":2531544.2682098933,"ETH_USD":1625.7080091760402,"USDT_NGN":1516.0096621370901,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:40:45"}
{"ETH_NGN":2562011.6236678986,"ETH_USD":1662.9872085441925,"USDT_NGN":1525.079812873468,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:45:45"}
{"ETH_NGN":2539260.569418141,"ETH_USD":1687.6115487039685,"USDT_NGN":1527.9373423014642,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:50:45"}
{"ETH_NGN":2506093.6859476822,"ETH_USD":1695.46738146668,"USDT_NGN":1532.6998375196956,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:55:45"}
{"ETH_NGN":2526551.234901996,"ETH_USD":1702.8924103696986,"USDT_NGN":1536.9821142419135,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 11:00:45"}
{"ETH_NGN":2503309.109125063,"ETH_USD":1723.432719830086,"USDT_NGN":1546.5902801396123,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 11:05:45"}
{"ETH_NGN":2500524.7224751376,"ETH_USD":1710.7141181239933,"USDT_NGN":1546.2548861038847,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 11:10:45"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 20:31:20"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:33:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:33:26 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:33:26"}
{"ETH_NGN":2468967.4591099606,"ETH_USD":1643.4001976261932,"USDT_NGN":1497.8188714810008,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:36:20"}
{"ETH_NGN":2472055.5264293943,"ETH_USD":1634.341531019291,"USDT_NGN":1489.7558517789064,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:41:20"}
{"ETH_NGN":2424786.437093979,"ETH_USD":1609.0630128771131,"USDT_NGN":1480.8314101705303,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:46:20"}
{"ETH_NGN":2424698.9357301984,"ETH_USD":1605.9589891372284,"USDT_NGN":1482.865997171427,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:51:20"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 20:55:08"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"ETH_NGN":2548168.4633342065,"ETH_USD":1643.3035042544745,"USDT_NGN":1497.8658716669668,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:00:08"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:02:57"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"ETH_NGN":2540452.6928366674,"ETH_USD":1673.883141947858,"USDT_NGN":1504.8331666617507,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:07:57"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:09:07"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:12:33"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"ETH_NGN":2471454.476888389,"ETH_USD":1645.9141443409826,"USDT_NGN":1495.412586961717,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:17:33"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:19:23"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:20:17"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:20:18"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:20:18"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:20:18"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:20:18"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:393:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:415:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:467:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:508:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"ETH_NGN":2498313.0860080994,"ETH_USD":1678.6321241075104,"USDT_NGN":1503.5518120162442,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:25:18"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:28:28"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:28:29"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:28:29"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:28:29"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:28:29"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:393:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:415:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:467:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:508:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"ETH_NGN":2513678.962445631,"ETH_USD":1655.945118145641,"USDT_NGN":1500.8912926147718,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:33:28"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:35:34"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:58:09"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 131 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:169:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:169:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:240:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:240:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:311:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:311:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 150 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"ETH_NGN":2481471.971201898,"ETH_USD":1624.1606227199038,"USDT_NGN":1506.3100243819401,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:03:09"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:06:00"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 132 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 152 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:07:53"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:07:54"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:07:54"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:07:54"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:07:54"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 132 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:58"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:58"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:58 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:58"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 22:07:58"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:58 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 150 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:58"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:11:37"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:12:32"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:12:32"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:12:32"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:12:33"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:12:33"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 132 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Nigerian Bank Transfer: {\"account_bank\":\"058\",\"account_number\":\"1234567890\",\"amount\":50000,\"currency\":\"NGN\",\"narration\":\"KudiPay withdrawal - +2348012345678\",\"reference\":\"KP_MGZMT7NZ_KE1C3B\",\"beneficiary_name\":\"Demo User 350\",\"debit_currency\":\"NGN\",\"meta\":{\"phoneNumber\":\"+2348012345678\",\"timestamp\":\"2025-10-20T21:12:38.159Z\"}}","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"Nigerian bank withdrawal initiated: KP_MGZMT7NZ_KE1C3B - 50000","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 200 336 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 63f47f9e5e0000f812345678","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Kenyan Bank Transfer: {\"account_bank\":\"63f47f9e5e0000f812345678\",\"account_number\":\"1234567890\",\"amount\":700000,\"currency\":\"KES\",\"narration\":\"KudiPay withdrawal - +2542348012345678\",\"reference\":\"KP_MGZMT7OK_2M1EJJ\",\"beneficiary_name\":\"Demo User 907\",\"meta\":{\"phoneNumber\":\"+2542348012345678\",\"timestamp\":\"2025-10-20T21:12:38.180Z\"}}","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"Kenyan bank withdrawal initiated: KP_MGZMT7OK_2M1EJJ - KES700000","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 200 349 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Mobile Money Transfer: {\"amount\":50000,\"currency\":\"NGN\",\"phone_number\":\"+2349087654321\",\"provider\":\"MTN\",\"narration\":\"KudiPay withdrawal - +2348012345678\",\"reference\":\"KP_MGZMT7P3_VSSHZR\",\"country\":\"NG\"}","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"Mobile money withdrawal initiated: KP_MGZMT7P3_VSSHZR - NGN50000 via MTN Mobile Money","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 200 369 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 158 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"ETH_NGN":2479407.1701196264,"ETH_USD":1634.3470550235952,"USDT_NGN":1491.6535653244161,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:17:32"}
{"ETH_NGN":2495146.5052471305,"ETH_USD":1630.4051909534378,"USDT_NGN":1494.4688113397988,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:22:32"}
{"ETH_NGN":2535500.2929836954,"ETH_USD":1612.5261961974047,"USDT_NGN":1494.6529381338983,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:27:33"}
{"ETH_NGN":2563155.4499524166,"ETH_USD":1566.7775323822032,"USDT_NGN":1487.254746631803,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:32:33"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-20 23:30:27"}
{"error":"Currency USD not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:37"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:32:37"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:41"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:42"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:42"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:32:42"}
{"error":"Currency USD not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:50"}
{"error":"Currency NGN not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"NGN/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:50"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:32:54"}
{"error":"Currency USD not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:57"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:35:16"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:35:16"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:35:17"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:35:17"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:35:17"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:35:18"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:36:15"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:36:15"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:36:16"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:36:16"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:36:16"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:36:17"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:37:07"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:37:07"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:37:08"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:37:08"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:37:08"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:37:09"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:38:02"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:38:02"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:38:03"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:38:03"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:38:03"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:38:04"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:39:00"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:39:01"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-20 23:50:17"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-20 23:50:17"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 23:50:17"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 23:50:17"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"::1 - - [20/Oct/2025:22:54:04 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-20 23:54:04"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-20 23:54:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:22:54:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-20 23:54:59"}
{"ETH_NGN":2512169.686279681,"ETH_USD":1713.4411148582114,"USDT_NGN":1499.5517658272774,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 23:58:56"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:02:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:02:01 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 185 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:02:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:02:15 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:02:15"}
{"ETH_NGN":2509991.42348019,"ETH_USD":1748.0475625297297,"USDT_NGN":1501.9046519513397,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:03:56"}
{"level":"info","message":"::1 - - [20/Oct/2025:23:07:47 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:07:47"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:08:03 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:08:03"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:08:18"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:08:18 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:08:18"}
{"ETH_NGN":2512128.3737727166,"ETH_USD":1744.844120454343,"USDT_NGN":1496.9018162329066,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:08:56"}
{"level":"info","message":"USSD Request: +254711082XXX - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:09:19"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:09:19 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"AT-USSD-Gateway/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:09:19"}
{"level":"info","message":"USSD Request: +254711XXXXXX - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:11:17"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:11:17 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"AT-USSD-Gateway/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:11:17"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:12:12"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:12:12 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 185 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:12:12"}
{"level":"info","message":"USSD Request: +2348012345678 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:12:13"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:12:13 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:12:13"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:13:42"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:13:42 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:13:42"}
{"ETH_NGN":2488731.500695593,"ETH_USD":1727.97183568424,"USDT_NGN":1491.5357836054086,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:13:56"}
{"level":"info","message":"USSD Request: +2348099999999 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:16:46"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:16:46 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:16:46"}
{"ETH_NGN":2470337.3935339362,"ETH_USD":1755.5474346606775,"USDT_NGN":1490.336360236793,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:18:56"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:20:49"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:20:49 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:20:49"}
{"level":"info","message":"USSD Request: +2347083247105 - 2","service":"kudipay-backend","timestamp":"2025-10-21 00:21:00"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:21:00 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:21:00"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:21:31"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:21:31 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:21:31"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:21:45"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:21:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:21:45"}
{"level":"info","message":"USSD Request: +2347083247105 - 5","service":"kudipay-backend","timestamp":"2025-10-21 00:22:08"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:08 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 61 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:08"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:22:19"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:19 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:19"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:22:35"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:35 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:35"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:22:43"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:43 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:43"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:23:03"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:23:03 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:23:03"}
{"ETH_NGN":2494158.7764969785,"ETH_USD":1727.6604308777016,"USDT_NGN":1482.0330863558124,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:23:56"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-21 00:24:03"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-21 00:24:04"}
{"ETH_NGN":2541843.893485373,"ETH_USD":1724.2565499664126,"USDT_NGN":1477.9180455990786,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:28:56"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:29:56"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:29:56 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:29:56"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:30:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:01 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:01"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:30:14"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:14 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:14"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:30:19"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:19 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:19"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:30:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:23"}
{"ETH_NGN":2508762.9033598155,"ETH_USD":1682.2671643383355,"USDT_NGN":1472.1697849372777,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:33:56"}
{"level":"info","message":"USSD Request: +2348028404723 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:35:04"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:35:04 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:35:04"}
{"level":"info","message":"USSD Request: +2348028404723 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:35:09"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:35:09 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:35:09"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:36:20"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:20 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:20"}
{"level":"info","message":"USSD Request: +2348033157043 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:36:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:23"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:36:28"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:28 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:28"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:36:33"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:33 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:33"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:38:50"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:38:50"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:38:50"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:38:50"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:39:54"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:39:54"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:39:54"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:39:54"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:40:55"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:40:55 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:40:55"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:40:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:40:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:40:59"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:41:04"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:41:04 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:41:04"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:41:09"}
{"level":"error","message":"Create wallet error: Invalid phone number format. Use: 08012345678 or 8012345678","service":"kudipay-backend","stack":"Error: Invalid phone number format. Use: 08012345678 or 8012345678\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:19:15)\n    at UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:46)\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:41:09"}
{"level":"error","message":"Registration error: Invalid phone number format. Use: 08012345678 or 8012345678","service":"kudipay-backend","stack":"Error: Invalid phone number format. Use: 08012345678 or 8012345678\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:19:15)\n    at UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:46)\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:41:09"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:41:09 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:41:09"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:42:59"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:42:59"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:42:59"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:42:59"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:43:58"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:43:58 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:43:58"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:44:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:44:01 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:44:01"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:44:06"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:44:06 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:44:06"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:44:10"}
{"level":"info","message":"Creating wallet for +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 00:44:11"}
{"level":"info","message":"Mapping +2347083247105 to 0x810d9Db7E1298D274df6eBC2Ba84eE81029b517D on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 00:44:11"}
{"code":"UNSUPPORTED_OPERATION","level":"error","message":"Error mapping phone to wallet: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","operation":"sendTransaction","service":"kudipay-backend","shortMessage":"contract runner does not support sending transactions","stack":"Error: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at makeError (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at send (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:227:31)\n    at Proxy.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:261:22)\n    at PhoneWalletMappingService.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:52:48)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:51:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)","timestamp":"2025-10-21 00:44:11"}
{"code":"UNSUPPORTED_OPERATION","level":"error","message":"Blockchain registration failed: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","operation":"sendTransaction","service":"kudipay-backend","shortMessage":"contract runner does not support sending transactions","stack":"Error: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at makeError (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at send (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:227:31)\n    at Proxy.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:261:22)\n    at PhoneWalletMappingService.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:52:48)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:51:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)","timestamp":"2025-10-21 00:44:11"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","service":"kudipay-backend","stack":"Error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:65:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:44:11"}
{"level":"error","message":"Registration error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","service":"kudipay-backend","stack":"Error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:65:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:44:11"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:44:11 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:44:11"}
{"ETH_NGN":2539558.9587683203,"ETH_USD":1664.5242982011073,"USDT_NGN":1500.653960280114,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:48:50"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:48:59"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:48:59"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:48:59"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:48:59"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:50:57"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:50:57 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:50:57"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:51:17"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:51:17 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:51:17"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:51:21"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:51:21 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:51:21"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:51:25"}
{"level":"info","message":"Creating wallet for +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 00:51:26"}
{"level":"info","message":"Mapping +2347083247105 to 0x810d9Db7E1298D274df6eBC2Ba84eE81029b517D on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 00:51:26"}
{"level":"info","message":"Transaction submitted: 0x4aef1dd12984aa0f4ce006300b1a1fd4ea1f269e45202cb41b686b7b29128855","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28"}
{"level":"info","message":"Mapping confirmed in block 32618001","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28"}
{"block":32618001,"gasUsed":"143812","level":"info","message":"Blockchain registration successful:","phone":"+2347083247105","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28","txHash":"0x4aef1dd12984aa0f4ce006300b1a1fd4ea1f269e45202cb41b686b7b29128855","wallet":"0x810d9Db7E1298D274df6eBC2Ba84eE81029b517D"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1066","message":"Create wallet error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"kudipay-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.create (/home/otowo-samuel/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:69:20)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:51:28"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1066","message":"Registration error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"kudipay-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.create (/home/otowo-samuel/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:69:20)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:51:28"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:51:28 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:54:38"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:38 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:38"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:54:42"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:42 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:42"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:54:46"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:46 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:46"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:54:50"}
{"level":"error","message":"Create wallet error: Phone number already registered on blockchain","service":"kudipay-backend","stack":"Error: Phone number already registered on blockchain\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:34:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:54:51"}
{"level":"error","message":"Registration error: Phone number already registered on blockchain","service":"kudipay-backend","stack":"Error: Phone number already registered on blockchain\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:34:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:54:51"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:51 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:51"}
{"ETH_NGN":2521261.980980193,"ETH_USD":1641.4207852082452,"USDT_NGN":1499.5230648731438,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:55:18"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:56:31"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:56:31"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:56:31"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:56:31"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:57:03"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:57:03"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:57:03"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:57:03"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:57:10"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:57:10"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:57:10"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:57:10"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:58:32"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:58:32 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:58:32"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:58:37"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:58:37 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:58:37"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:59:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:59:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:59:23"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:59:40"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:59:40 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:59:40"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:00:13"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:00:14"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:00:14"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:00:14"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:02:00"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:00 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:00"}
{"level":"info","message":"USSD Request: +2348033157043 - 1","service":"kudipay-backend","timestamp":"2025-10-21 01:02:05"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:05 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:05"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 01:02:10"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:10 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:10"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 01:02:14"}
{"level":"info","message":"Creating wallet for +2348033157043...","service":"kudipay-backend","timestamp":"2025-10-21 01:02:15"}
{"level":"info","message":"Mapping +2348033157043 to 0x2aAd8B0e0489c4f50F50Bd3f324f3A11776dE382 on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 01:02:15"}
{"level":"info","message":"Transaction submitted: 0x8416b03738097aea6377f2a3885ba6e2aa8717cfea139caed3261e723c7eb619","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17"}
{"level":"info","message":"Mapping confirmed in block 32618325","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17"}
{"block":32618325,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2348033157043","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17","txHash":"0x8416b03738097aea6377f2a3885ba6e2aa8717cfea139caed3261e723c7eb619","wallet":"0x2aAd8B0e0489c4f50F50Bd3f324f3A11776dE382"}
{"blockchainTxHash":"0x8416b03738097aea6377f2a3885ba6e2aa8717cfea139caed3261e723c7eb619","level":"info","message":"Wallet created successfully for +2348033157043:","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17","userId":2,"walletAddress":"0x2aAd8B0e0489c4f50F50Bd3f324f3A11776dE382"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:17 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 66 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:02:40"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:40 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:40"}
{"level":"info","message":"USSD Request: +2348033157043 - 2","service":"kudipay-backend","timestamp":"2025-10-21 01:02:44"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 53 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:45"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:02:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:59"}
{"level":"info","message":"USSD Request: +2348033157043 - 3","service":"kudipay-backend","timestamp":"2025-10-21 01:03:16"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:16 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:16"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3","service":"kudipay-backend","timestamp":"2025-10-21 01:03:22"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:22 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 35 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:22"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3*1000","service":"kudipay-backend","timestamp":"2025-10-21 01:03:28"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:29 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 96 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:29"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3*1000*1","service":"kudipay-backend","timestamp":"2025-10-21 01:03:37"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:37 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 35 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:37"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3*1000*1*0225609894","service":"kudipay-backend","timestamp":"2025-10-21 01:03:45"}
{"level":"error","message":"USSD process request error: this.handleBankAccountNumber is not a function","service":"kudipay-backend","stack":"TypeError: this.handleBankAccountNumber is not a function\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:69:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 01:03:45"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 60 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:45"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:04:16"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:16 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:16"}
{"level":"info","message":"USSD Request: +2348033157043 - 4","service":"kudipay-backend","timestamp":"2025-10-21 01:04:22"}
{"level":"error","message":"Transaction history error: Transaction is not defined","service":"kudipay-backend","stack":"ReferenceError: Transaction is not defined\n    at UssdService.handleTransactionHistory (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:283:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handleMainMenuInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:122:16)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:54:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 01:04:22"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:22 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 64 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:22"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:04:29"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:29 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:29"}
{"level":"info","message":"USSD Request: +2348033157043 - 3","service":"kudipay-backend","timestamp":"2025-10-21 01:04:35"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:35 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 35 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:35"}
{"ETH_NGN":2489396.5478219218,"ETH_USD":1644.1909570098853,"USDT_NGN":1508.3413125001755,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:05:13"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:05:26"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:05:26 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:05:26"}
{"level":"info","message":"USSD Request: +2347083247105 - 2","service":"kudipay-backend","timestamp":"2025-10-21 01:05:35"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:05:36 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:05:36"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:07:29"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:07:29"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:07:29"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:07:29"}
