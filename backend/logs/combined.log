{"level":"warn","message":"No wallet configured for contract writes","service":"kudipay-backend","timestamp":"2025-10-19 13:12:57"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking pause status:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-19 13:12:58"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error getting contract owner: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:05"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error getting total registered users: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:10"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error validating phone number: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:16"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error validating phone number: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:23"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error validating phone number: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:30"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error checking phone registration: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:35"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error checking wallet registration: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:41"}
{"code":"SERVER_ERROR","info":{"requestUrl":"https://eth-sepolia.g.alchemy.com/v2/demo","responseBody":"error code: 1015","responseStatus":"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)"},"level":"error","message":"Error getting wallet for phone: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)","request":{},"response":{},"service":"kudipay-backend","shortMessage":"exceeded maximum retry limit","stack":"Error: exceeded maximum retry limit (request={  }, response={  }, error=null, info={ \"requestUrl\": \"https://eth-sepolia.g.alchemy.com/v2/demo\", \"responseBody\": \"error code: 1015\", \"responseStatus\": \"599 CLIENT ESCALATED SERVER ERROR (429 Too Many Requests; exceeded maximum retry limit)\" }, code=SERVER_ERROR, version=6.15.0)\n    at makeError (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at FetchResponse.assertOk (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/fetch.js:839:32)\n    at JsonRpcProvider._send (/home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:917:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/vahalla/Desktop/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/provider-jsonrpc.js:281:40","timestamp":"2025-10-19 13:13:48"}
{"level":"warn","message":"No wallet configured for contract writes","service":"kudipay-backend","timestamp":"2025-10-19 13:38:33"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking pause status:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-19 13:38:34"}
{"code":"ETIMEDOUT","level":"error","message":"Error getting contract owner:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-19 13:38:35"}
{"level":"warn","message":"No wallet configured for contract writes","service":"kudipay-backend","timestamp":"2025-10-19 13:40:10"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking pause status:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1134:18)\n    at internalConnectMultiple (node:net:1210:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1742:5)\n    at listOnTimeout (node:internal/timers:590:11)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-10-20 20:46:39"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 10:04:14"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 10:04:14"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 10:05:45"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 10:05:45"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 10:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:06:00 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:06:00"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 10:07:08"}
{"level":"info","message":"::1 - - [20/Oct/2025:09:07:08 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 10:07:08"}
{"ETH_NGN":2506151.8942484967,"ETH_USD":1652.539636714471,"USDT_NGN":1492.052237271823,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:10:45"}
{"ETH_NGN":2479353.890930978,"ETH_USD":1606.333339712495,"USDT_NGN":1500.595547959866,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:15:45"}
{"ETH_NGN":2519701.0279775765,"ETH_USD":1590.397876440786,"USDT_NGN":1505.9461066308902,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:20:45"}
{"ETH_NGN":2524389.1771372133,"ETH_USD":1586.1671308630196,"USDT_NGN":1509.6705484555407,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:25:45"}
{"ETH_NGN":2510344.304360267,"ETH_USD":1635.0454566498415,"USDT_NGN":1510.030404324293,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:30:45"}
{"ETH_NGN":2558840.6625371464,"ETH_USD":1651.6507290783875,"USDT_NGN":1507.5888234473935,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:35:45"}
{"ETH_NGN":2531544.2682098933,"ETH_USD":1625.7080091760402,"USDT_NGN":1516.0096621370901,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:40:45"}
{"ETH_NGN":2562011.6236678986,"ETH_USD":1662.9872085441925,"USDT_NGN":1525.079812873468,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:45:45"}
{"ETH_NGN":2539260.569418141,"ETH_USD":1687.6115487039685,"USDT_NGN":1527.9373423014642,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:50:45"}
{"ETH_NGN":2506093.6859476822,"ETH_USD":1695.46738146668,"USDT_NGN":1532.6998375196956,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 10:55:45"}
{"ETH_NGN":2526551.234901996,"ETH_USD":1702.8924103696986,"USDT_NGN":1536.9821142419135,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 11:00:45"}
{"ETH_NGN":2503309.109125063,"ETH_USD":1723.432719830086,"USDT_NGN":1546.5902801396123,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 11:05:45"}
{"ETH_NGN":2500524.7224751376,"ETH_USD":1710.7141181239933,"USDT_NGN":1546.2548861038847,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 11:10:45"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 20:31:20"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 20:31:20"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:33:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:33:26 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:33:26"}
{"ETH_NGN":2468967.4591099606,"ETH_USD":1643.4001976261932,"USDT_NGN":1497.8188714810008,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:36:20"}
{"ETH_NGN":2472055.5264293943,"ETH_USD":1634.341531019291,"USDT_NGN":1489.7558517789064,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:41:20"}
{"ETH_NGN":2424786.437093979,"ETH_USD":1609.0630128771131,"USDT_NGN":1480.8314101705303,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:46:20"}
{"ETH_NGN":2424698.9357301984,"ETH_USD":1605.9589891372284,"USDT_NGN":1482.865997171427,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 20:51:20"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 20:55:08"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 20:55:08"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 20:55:25"}
{"level":"info","message":"::1 - - [20/Oct/2025:19:55:25 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 20:55:25"}
{"ETH_NGN":2548168.4633342065,"ETH_USD":1643.3035042544745,"USDT_NGN":1497.8658716669668,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:00:08"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:02:57"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:02:57"}
{"ETH_NGN":2540452.6928366674,"ETH_USD":1673.883141947858,"USDT_NGN":1504.8331666617507,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:07:57"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:09:07"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:09:07"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:09:14"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:09:14 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:09:14"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:12:33"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:12:33"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:391:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:412:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:434:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:464:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:505:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:13:26"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:13:26 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:13:26"}
{"ETH_NGN":2471454.476888389,"ETH_USD":1645.9141443409826,"USDT_NGN":1495.412586961717,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:17:33"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:19:23"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:19:23"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:20:17"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:20:18"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:20:18"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:20:18"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:20:18"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:393:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:415:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:467:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:508:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:20:27"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:20:27 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:20:27"}
{"ETH_NGN":2498313.0860080994,"ETH_USD":1678.6321241075104,"USDT_NGN":1503.5518120162442,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:25:18"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:28:28"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:28:29"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:28:29"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:28:29"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:28:29"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get Nigerian banks error: paymentService.getNigerianBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getNigerianBanksFlutterwave is not a function\n    at getNigerianBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:393:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 500 63 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get Kenyan banks error: paymentService.getKenyanBanksFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getKenyanBanksFlutterwave is not a function\n    at getKenyanBanks (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:415:42)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 500 61 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get mobile money providers error: paymentService.getMobileMoneyProvidersFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getMobileMoneyProvidersFlutterwave is not a function\n    at getMobileMoneyProvidersFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:438:46)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Account verification error: paymentService.verifyAccountFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.verifyAccountFlutterwave is not a function\n    at verifyAccountFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:467:49)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 500 54 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Nigerian bank withdrawal error: paymentService.withdrawToNigerianBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToNigerianBank is not a function\n    at withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Kenyan bank withdrawal error: paymentService.withdrawToKenyanBank is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToKenyanBank is not a function\n    at withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Mobile money withdrawal error: paymentService.withdrawToMobileMoneyFlutterwave is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.withdrawToMobileMoneyFlutterwave is not a function\n    at withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)\n    at router.handle (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"level":"error","message":"Get transfer status error: paymentService.getFlutterwaveTransferStatus is not a function","service":"kudipay-backend","stack":"TypeError: paymentService.getFlutterwaveTransferStatus is not a function\n    at getFlutterwaveTransferStatus (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:508:43)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:284:15\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:376:14)\n    at router.process_params (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/izk/Documents/kudipay_backend/backend/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-10-20 21:28:37"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:28:37 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 500 64 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:28:37"}
{"ETH_NGN":2513678.962445631,"ETH_USD":1655.945118145641,"USDT_NGN":1500.8912926147718,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 21:33:28"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:35:34"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:35:34"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 21:58:09"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 21:58:09"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:15 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 131 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:15"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:169:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:169:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:240:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:240:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:311:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 21:58:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:311:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"level":"info","message":"::1 - - [20/Oct/2025:20:58:16 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 150 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 21:58:16"}
{"ETH_NGN":2481471.971201898,"ETH_USD":1624.1606227199038,"USDT_NGN":1506.3100243819401,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:03:09"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:06:00"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:06:00"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 132 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:43"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:43 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 152 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:43"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:07:53"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:07:54"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:07:54"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:07:54"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:07:54"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 132 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Nigerian bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:223:20)\n    at async withdrawToNigerianBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:245:22)","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 500 72 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Kenyan bank withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:294:20)\n    at async withdrawToKenyanBank (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:299:22)","timestamp":"2025-10-20 22:07:57"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:57 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 500 70 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:57"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:58"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Mobile money withdrawal error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:42:20)\n    at async PaymentService.withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/services/paymentService.js:365:20)\n    at async withdrawToMobileMoneyFlutterwave (/home/izk/Documents/kudipay_backend/backend/src/controllers/paymentController.js:353:22)","timestamp":"2025-10-20 22:07:58"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:58 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 500 71 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:58"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 22:07:58"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:07:58 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 150 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:07:58"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:11:37"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:11:37"}
{"level":"warn","message":"Wallet not configured - blockchain operations will be limited","service":"kudipay-backend","timestamp":"2025-10-20 22:12:32"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"kudipay-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:65:5)","timestamp":"2025-10-20 22:12:32"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-20 22:12:32"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 22:12:33"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 22:12:33"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getNigerianBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getNigerianBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getNigerianBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/banks/ng HTTP/1.1\" 200 518 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getKenyanBanks called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getKenyanBanksFlutterwave","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getKenyanBanksFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/banks/ke HTTP/1.1\" 200 384 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=NG","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=NG HTTP/1.1\" 200 327 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentController.getMobileMoneyProvidersFlutterwave called","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] About to call paymentService.getMobileMoneyProvidersFlutterwave with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEBUG] paymentService.getMobileMoneyProvidersFlutterwave called with country=KE","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"1":{"code":"MPESA","countries":["KE"],"name":"M-Pesa"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=KE, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/mobile-money/providers?country=KE HTTP/1.1\" 200 199 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/verify/account HTTP/1.1\" 200 132 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"044","country":"NG","name":"Access Bank"},"1":{"code":"050","country":"NG","name":"Ecobank"},"2":{"code":"011","country":"NG","name":"First Bank"},"3":{"code":"070","country":"NG","name":"Fidelity Bank"},"4":{"code":"058","country":"NG","name":"GTBank"},"5":{"code":"076","country":"NG","name":"Polaris Bank"},"6":{"code":"032","country":"NG","name":"Union Bank"},"7":{"code":"033","country":"NG","name":"UBA"},"8":{"code":"057","country":"NG","name":"Zenith Bank"},"level":"info","message":"[DEBUG] getNigerianBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 058","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Nigerian Bank Transfer: {\"account_bank\":\"058\",\"account_number\":\"1234567890\",\"amount\":50000,\"currency\":\"NGN\",\"narration\":\"KudiPay withdrawal - +2348012345678\",\"reference\":\"KP_MGZMT7NZ_KE1C3B\",\"beneficiary_name\":\"Demo User 350\",\"debit_currency\":\"NGN\",\"meta\":{\"phoneNumber\":\"+2348012345678\",\"timestamp\":\"2025-10-20T21:12:38.159Z\"}}","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"Nigerian bank withdrawal initiated: KP_MGZMT7NZ_KE1C3B - 50000","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/withdraw/ng-bank HTTP/1.1\" 200 336 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"63f47f9e5e0000f812345678","country":"KE","name":"Kenya Commercial Bank"},"1":{"code":"63f47f9e5e0000f812345679","country":"KE","name":"Equity Bank"},"2":{"code":"63f47f9e5e0000f812345680","country":"KE","name":"Co-operative Bank"},"3":{"code":"63f47f9e5e0000f812345681","country":"KE","name":"Standard Chartered"},"level":"info","message":"[DEBUG] getKenyanBanks called, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Verifying account: 1234567890 at bank 63f47f9e5e0000f812345678","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Kenyan Bank Transfer: {\"account_bank\":\"63f47f9e5e0000f812345678\",\"account_number\":\"1234567890\",\"amount\":700000,\"currency\":\"KES\",\"narration\":\"KudiPay withdrawal - +2542348012345678\",\"reference\":\"KP_MGZMT7OK_2M1EJJ\",\"beneficiary_name\":\"Demo User 907\",\"meta\":{\"phoneNumber\":\"+2542348012345678\",\"timestamp\":\"2025-10-20T21:12:38.180Z\"}}","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"Kenyan bank withdrawal initiated: KP_MGZMT7OK_2M1EJJ - KES700000","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/withdraw/ke-bank HTTP/1.1\" 200 349 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"0":{"code":"MTN","countries":["NG","GH"],"name":"MTN Mobile Money"},"1":{"code":"AIRTEL","countries":["NG","KE"],"name":"Airtel Money"},"2":{"code":"GLO","countries":["NG"],"name":"Glo Mobile"},"3":{"code":"9MOBILE","countries":["NG"],"name":"9Mobile Money"},"level":"info","message":"[DEBUG] getMobileMoneyProviders called with country=NG, returning:","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Mobile Money Transfer: {\"amount\":50000,\"currency\":\"NGN\",\"phone_number\":\"+2349087654321\",\"provider\":\"MTN\",\"narration\":\"KudiPay withdrawal - +2348012345678\",\"reference\":\"KP_MGZMT7P3_VSSHZR\",\"country\":\"NG\"}","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"Mobile money withdrawal initiated: KP_MGZMT7P3_VSSHZR - NGN50000 via MTN Mobile Money","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"POST /api/payment/flutterwave/withdraw/mobile-money HTTP/1.1\" 200 369 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"[DEMO] Checking transfer status: FW_NG_1234567890","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"level":"info","message":"::1 - - [20/Oct/2025:21:12:38 +0000] \"GET /api/payment/flutterwave/transfer/FW_NG_1234567890/status HTTP/1.1\" 200 158 \"-\" \"curl/8.14.0\"","service":"kudipay-backend","timestamp":"2025-10-20 22:12:38"}
{"ETH_NGN":2479407.1701196264,"ETH_USD":1634.3470550235952,"USDT_NGN":1491.6535653244161,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:17:32"}
{"ETH_NGN":2495146.5052471305,"ETH_USD":1630.4051909534378,"USDT_NGN":1494.4688113397988,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:22:32"}
{"ETH_NGN":2535500.2929836954,"ETH_USD":1612.5261961974047,"USDT_NGN":1494.6529381338983,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:27:33"}
{"ETH_NGN":2563155.4499524166,"ETH_USD":1566.7775323822032,"USDT_NGN":1487.254746631803,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 22:32:33"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-20 23:30:27"}
{"error":"Currency USD not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 23:30:27"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:37"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:32:37"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:41"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:42"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:42"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:32:42"}
{"error":"Currency USD not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:50"}
{"error":"Currency NGN not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"NGN/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:50"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:52"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:32:54"}
{"error":"Currency USD not supported by Binance provider","level":"error","message":"BinanceProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:32:57"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:35:16"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:35:16"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:35:17"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:35:17"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:35:17"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:35:18"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:36:15"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:36:15"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:36:16"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:36:16"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:36:16"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:36:17"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:37:07"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:37:07"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:37:08"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:37:08"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:37:08"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:37:09"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:38:02"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:38:02"}
{"error":"Cannot convert a BigInt value to a number","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-20 23:38:03"}
{"error":"Failed to read Chainlink feed for ETH/USD: Cannot convert a BigInt value to a number","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:38:03"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:38:03"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:38:04"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-20 23:39:00"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-20 23:39:01"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-20 23:50:17"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-20 23:50:17"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 23:50:17"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 23:50:17"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-20 23:53:56"}
{"level":"info","message":"::1 - - [20/Oct/2025:22:54:04 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-20 23:54:04"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-20 23:54:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:22:54:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-20 23:54:59"}
{"ETH_NGN":2512169.686279681,"ETH_USD":1713.4411148582114,"USDT_NGN":1499.5517658272774,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-20 23:58:56"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:02:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:02:01 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 185 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:02:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:02:15 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:02:15"}
{"ETH_NGN":2509991.42348019,"ETH_USD":1748.0475625297297,"USDT_NGN":1501.9046519513397,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:03:56"}
{"level":"info","message":"::1 - - [20/Oct/2025:23:07:47 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:07:47"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:08:03 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:08:03"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:08:18"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:08:18 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:08:18"}
{"ETH_NGN":2512128.3737727166,"ETH_USD":1744.844120454343,"USDT_NGN":1496.9018162329066,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:08:56"}
{"level":"info","message":"USSD Request: +254711082XXX - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:09:19"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:09:19 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"AT-USSD-Gateway/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:09:19"}
{"level":"info","message":"USSD Request: +254711XXXXXX - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:11:17"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:11:17 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"AT-USSD-Gateway/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:11:17"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:12:12"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:12:12 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 185 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:12:12"}
{"level":"info","message":"USSD Request: +2348012345678 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:12:13"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:12:13 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:12:13"}
{"level":"info","message":"USSD Request: +2348012345678 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:13:42"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:13:42 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:13:42"}
{"ETH_NGN":2488731.500695593,"ETH_USD":1727.97183568424,"USDT_NGN":1491.5357836054086,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:13:56"}
{"level":"info","message":"USSD Request: +2348099999999 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:16:46"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:16:46 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"curl/8.5.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:16:46"}
{"ETH_NGN":2470337.3935339362,"ETH_USD":1755.5474346606775,"USDT_NGN":1490.336360236793,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:18:56"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:20:49"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:20:49 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:20:49"}
{"level":"info","message":"USSD Request: +2347083247105 - 2","service":"kudipay-backend","timestamp":"2025-10-21 00:21:00"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:21:00 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:21:00"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:21:31"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:21:31 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:21:31"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:21:45"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:21:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:21:45"}
{"level":"info","message":"USSD Request: +2347083247105 - 5","service":"kudipay-backend","timestamp":"2025-10-21 00:22:08"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:08 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 61 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:08"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:22:19"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:19 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:19"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:22:35"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:35 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:35"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:22:43"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:22:43 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:22:43"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:23:03"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:23:03 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:23:03"}
{"ETH_NGN":2494158.7764969785,"ETH_USD":1727.6604308777016,"USDT_NGN":1482.0330863558124,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:23:56"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-21 00:24:03"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-21 00:24:04"}
{"ETH_NGN":2541843.893485373,"ETH_USD":1724.2565499664126,"USDT_NGN":1477.9180455990786,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:28:56"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:29:56"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:29:56 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:29:56"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:30:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:01 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:01"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:30:14"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:14 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:14"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:30:19"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:19 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:19"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:30:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:30:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:30:23"}
{"ETH_NGN":2508762.9033598155,"ETH_USD":1682.2671643383355,"USDT_NGN":1472.1697849372777,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:33:56"}
{"level":"info","message":"USSD Request: +2348028404723 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:35:04"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:35:04 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:35:04"}
{"level":"info","message":"USSD Request: +2348028404723 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:35:09"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:35:09 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:35:09"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:36:20"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:20 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:20"}
{"level":"info","message":"USSD Request: +2348033157043 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:36:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:23"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:36:28"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:28 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:28"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:36:33"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:36:33 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 44 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:36:33"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:38:50"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:38:50"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:38:50"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:38:50"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:39:54"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:39:54"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:39:54"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:39:54"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:40:14"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:40:55"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:40:55 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:40:55"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:40:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:40:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:40:59"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:41:04"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:41:04 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:41:04"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:41:09"}
{"level":"error","message":"Create wallet error: Invalid phone number format. Use: 08012345678 or 8012345678","service":"kudipay-backend","stack":"Error: Invalid phone number format. Use: 08012345678 or 8012345678\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:19:15)\n    at UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:46)\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:41:09"}
{"level":"error","message":"Registration error: Invalid phone number format. Use: 08012345678 or 8012345678","service":"kudipay-backend","stack":"Error: Invalid phone number format. Use: 08012345678 or 8012345678\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:19:15)\n    at UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:46)\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:41:09"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:41:09 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:41:09"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:42:59"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:42:59"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:42:59"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:42:59"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:43:50"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:43:58"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:43:58 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:43:58"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:44:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:44:01 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:44:01"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:44:06"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:44:06 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:44:06"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:44:10"}
{"level":"info","message":"Creating wallet for +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 00:44:11"}
{"level":"info","message":"Mapping +2347083247105 to 0x810d9Db7E1298D274df6eBC2Ba84eE81029b517D on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 00:44:11"}
{"code":"UNSUPPORTED_OPERATION","level":"error","message":"Error mapping phone to wallet: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","operation":"sendTransaction","service":"kudipay-backend","shortMessage":"contract runner does not support sending transactions","stack":"Error: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at makeError (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at send (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:227:31)\n    at Proxy.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:261:22)\n    at PhoneWalletMappingService.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:52:48)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:51:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)","timestamp":"2025-10-21 00:44:11"}
{"code":"UNSUPPORTED_OPERATION","level":"error","message":"Blockchain registration failed: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","operation":"sendTransaction","service":"kudipay-backend","shortMessage":"contract runner does not support sending transactions","stack":"Error: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at makeError (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at assert (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:157:15)\n    at send (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:227:31)\n    at Proxy.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:261:22)\n    at PhoneWalletMappingService.mapPhoneToWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:52:48)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:51:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)","timestamp":"2025-10-21 00:44:11"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","service":"kudipay-backend","stack":"Error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:65:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:44:11"}
{"level":"error","message":"Registration error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)","service":"kudipay-backend","stack":"Error: Failed to register on blockchain: contract runner does not support sending transactions (operation=\"sendTransaction\", code=UNSUPPORTED_OPERATION, version=6.15.0)\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:65:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:44:11"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:44:11 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:44:11"}
{"ETH_NGN":2539558.9587683203,"ETH_USD":1664.5242982011073,"USDT_NGN":1500.653960280114,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:48:50"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:48:59"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:48:59"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:48:59"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:48:59"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:50:19"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:50:57"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:50:57 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:50:57"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:51:17"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:51:17 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:51:17"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:51:21"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:51:21 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:51:21"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:51:25"}
{"level":"info","message":"Creating wallet for +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 00:51:26"}
{"level":"info","message":"Mapping +2347083247105 to 0x810d9Db7E1298D274df6eBC2Ba84eE81029b517D on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 00:51:26"}
{"level":"info","message":"Transaction submitted: 0x4aef1dd12984aa0f4ce006300b1a1fd4ea1f269e45202cb41b686b7b29128855","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28"}
{"level":"info","message":"Mapping confirmed in block 32618001","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28"}
{"block":32618001,"gasUsed":"143812","level":"info","message":"Blockchain registration successful:","phone":"+2347083247105","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28","txHash":"0x4aef1dd12984aa0f4ce006300b1a1fd4ea1f269e45202cb41b686b7b29128855","wallet":"0x810d9Db7E1298D274df6eBC2Ba84eE81029b517D"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1066","message":"Create wallet error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"kudipay-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.create (/home/otowo-samuel/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:69:20)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:51:28"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1066","message":"Registration error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"kudipay-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async User.create (/home/otowo-samuel/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:69:20)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:51:28"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:51:28 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:51:28"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:54:38"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:38 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:38"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:54:42"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:42 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:42"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:54:46"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:46 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:46"}
{"level":"info","message":"USSD Request: +2347083247105 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 00:54:50"}
{"level":"error","message":"Create wallet error: Phone number already registered on blockchain","service":"kudipay-backend","stack":"Error: Phone number already registered on blockchain\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:34:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:54:51"}
{"level":"error","message":"Registration error: Phone number already registered on blockchain","service":"kudipay-backend","stack":"Error: Phone number already registered on blockchain\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:34:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:162:26)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:60:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 00:54:51"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:54:51 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:54:51"}
{"ETH_NGN":2521261.980980193,"ETH_USD":1641.4207852082452,"USDT_NGN":1499.5230648731438,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 00:55:18"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:56:31"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:56:31"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:56:31"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:56:31"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:57:03"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:57:03"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:57:03"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:57:03"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:57:10"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:57:10"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:57:10"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:57:10"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 00:58:15"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:58:32"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:58:32 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:58:32"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:58:37"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:58:37 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:58:37"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 00:59:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:59:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:59:23"}
{"level":"info","message":"USSD Request: +2347083247105 - 1","service":"kudipay-backend","timestamp":"2025-10-21 00:59:40"}
{"level":"info","message":"::ffff:127.0.0.1 - - [20/Oct/2025:23:59:40 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 00:59:40"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:00:13"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:00:14"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:00:14"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:00:14"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:02:00"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:00 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:00"}
{"level":"info","message":"USSD Request: +2348033157043 - 1","service":"kudipay-backend","timestamp":"2025-10-21 01:02:05"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:05 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:05"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 01:02:10"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:10 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:10"}
{"level":"info","message":"USSD Request: +2348033157043 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 01:02:14"}
{"level":"info","message":"Creating wallet for +2348033157043...","service":"kudipay-backend","timestamp":"2025-10-21 01:02:15"}
{"level":"info","message":"Mapping +2348033157043 to 0x2aAd8B0e0489c4f50F50Bd3f324f3A11776dE382 on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 01:02:15"}
{"level":"info","message":"Transaction submitted: 0x8416b03738097aea6377f2a3885ba6e2aa8717cfea139caed3261e723c7eb619","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17"}
{"level":"info","message":"Mapping confirmed in block 32618325","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17"}
{"block":32618325,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2348033157043","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17","txHash":"0x8416b03738097aea6377f2a3885ba6e2aa8717cfea139caed3261e723c7eb619","wallet":"0x2aAd8B0e0489c4f50F50Bd3f324f3A11776dE382"}
{"blockchainTxHash":"0x8416b03738097aea6377f2a3885ba6e2aa8717cfea139caed3261e723c7eb619","level":"info","message":"Wallet created successfully for +2348033157043:","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17","userId":2,"walletAddress":"0x2aAd8B0e0489c4f50F50Bd3f324f3A11776dE382"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:17 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 66 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:17"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:02:40"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:40 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:40"}
{"level":"info","message":"USSD Request: +2348033157043 - 2","service":"kudipay-backend","timestamp":"2025-10-21 01:02:44"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 53 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:45"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:02:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:02:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:02:59"}
{"level":"info","message":"USSD Request: +2348033157043 - 3","service":"kudipay-backend","timestamp":"2025-10-21 01:03:16"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:16 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:16"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3","service":"kudipay-backend","timestamp":"2025-10-21 01:03:22"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:22 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 35 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:22"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3*1000","service":"kudipay-backend","timestamp":"2025-10-21 01:03:28"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:29 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 96 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:29"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3*1000*1","service":"kudipay-backend","timestamp":"2025-10-21 01:03:37"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:37 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 35 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:37"}
{"level":"info","message":"USSD Request: +2348033157043 - 3*3*1000*1*0225609894","service":"kudipay-backend","timestamp":"2025-10-21 01:03:45"}
{"level":"error","message":"USSD process request error: this.handleBankAccountNumber is not a function","service":"kudipay-backend","stack":"TypeError: this.handleBankAccountNumber is not a function\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:69:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 01:03:45"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:03:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 60 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:03:45"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:04:16"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:16 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:16"}
{"level":"info","message":"USSD Request: +2348033157043 - 4","service":"kudipay-backend","timestamp":"2025-10-21 01:04:22"}
{"level":"error","message":"Transaction history error: Transaction is not defined","service":"kudipay-backend","stack":"ReferenceError: Transaction is not defined\n    at UssdService.handleTransactionHistory (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:283:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handleMainMenuInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:122:16)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:54:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:37:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 01:04:22"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:22 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 64 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:22"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:04:29"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:29 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:29"}
{"level":"info","message":"USSD Request: +2348033157043 - 3","service":"kudipay-backend","timestamp":"2025-10-21 01:04:35"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:04:35 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 35 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:04:35"}
{"ETH_NGN":2489396.5478219218,"ETH_USD":1644.1909570098853,"USDT_NGN":1508.3413125001755,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:05:13"}
{"level":"info","message":"USSD Request: +2347083247105 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 01:05:26"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:05:26 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:05:26"}
{"level":"info","message":"USSD Request: +2347083247105 - 2","service":"kudipay-backend","timestamp":"2025-10-21 01:05:35"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:00:05:36 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 01:05:36"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:07:29"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:07:29"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:07:29"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:07:29"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:11:39"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:11:39"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:11:39"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:11:39"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:16:56"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:16:56"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:16:56"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:16:56"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:16:56"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:17:22"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:17:22"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:17:22"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:17:22"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:17:22"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:18:13"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:18:14"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:18:14"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:18:14"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:18:14"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:18:29"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:18:29"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:18:30"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:18:30"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:18:30"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:19:15"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:19:16"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:19:16"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:19:16"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:19:16"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:19:39"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:19:39"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:19:39"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:19:39"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:19:39"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:20:01"}
{"level":"info","message":"Sending SMS to 2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:20:01"}
{"level":"error","message":"SMS sending failed for +2347083247105:","service":"kudipay-backend","timestamp":"2025-10-21 01:20:01"}
{"level":"info","message":"Sending SMS to 2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:20:03"}
{"level":"error","message":"SMS sending failed for +2347083247105:","service":"kudipay-backend","timestamp":"2025-10-21 01:20:03"}
{"level":"info","message":"Sending SMS to 2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:20:05"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:20:28"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:20:29"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:20:29"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:20:29"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:20:29"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:20:45"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:20:45"}
{"level":"error","message":"SMS sending failed for +2347083247105:","service":"kudipay-backend","timestamp":"2025-10-21 01:20:46"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:20:48"}
{"level":"error","message":"SMS sending failed for +2347083247105:","service":"kudipay-backend","timestamp":"2025-10-21 01:20:48"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:20:50"}
{"level":"error","message":"SMS sending failed for +2347083247105:","service":"kudipay-backend","timestamp":"2025-10-21 01:20:50"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:21:06"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:21:06"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:21:06"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:21:06"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:21:06"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:21:24"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:21:24"}
{"SMSMessageData":{"Message":"InvalidSenderId","Recipients":[]},"level":"warn","message":"SMS response format unexpected:","service":"kudipay-backend","timestamp":"2025-10-21 01:21:25"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:21:27"}
{"SMSMessageData":{"Message":"InvalidSenderId","Recipients":[]},"level":"warn","message":"SMS response format unexpected:","service":"kudipay-backend","timestamp":"2025-10-21 01:21:27"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:21:29"}
{"SMSMessageData":{"Message":"InvalidSenderId","Recipients":[]},"level":"warn","message":"SMS response format unexpected:","service":"kudipay-backend","timestamp":"2025-10-21 01:21:29"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:21:45"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:21:46"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:21:46"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:21:46"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:21:46"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:22:21"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 01:22:22"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 01:22:22"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 01:22:22"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 01:22:22"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:22:23"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:22:23"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_022bab029508cb7e2d861ae3dffdc587","phone":"+2347083247105","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 01:22:24"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:22:26"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_aa83146837c6c224c2ccd3d666ebfd0b","phone":"+2347083247105","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 01:22:27"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:22:29"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_179e6eec1a5a9d91c77e35bb472447fc","phone":"+2347083247105","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 01:22:29"}
{"ETH_NGN":2490232.2391247726,"ETH_USD":1663.344515258582,"USDT_NGN":1503.024572065262,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:27:21"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 01:32:01"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:32:01"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_8ccf46b363897e972c1f50eacbe32f73","phone":"+2347083247105","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 01:32:03"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:32:05"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_5501d60a4f63706257fc664186d8f00e","phone":"+2347083247105","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 01:32:06"}
{"level":"info","message":"Sending SMS to +2347083247105...","service":"kudipay-backend","timestamp":"2025-10-21 01:32:08"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_15f6b2b17b4efa613b92375e8c73b38a","phone":"+2347083247105","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 01:32:08"}
{"ETH_NGN":2498724.54209907,"ETH_USD":1674.6435880232123,"USDT_NGN":1510.7344470506175,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:32:21"}
{"ETH_NGN":2481206.102300985,"ETH_USD":1719.6180066708007,"USDT_NGN":1501.8453417996661,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:37:21"}
{"ETH_NGN":2470493.183222381,"ETH_USD":1760.0704051347168,"USDT_NGN":1504.4335876789733,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:42:21"}
{"ETH_NGN":2513862.212290109,"ETH_USD":1762.0442929015658,"USDT_NGN":1511.8597932179046,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:47:21"}
{"ETH_NGN":2473246.4177163234,"ETH_USD":1751.1367004684082,"USDT_NGN":1514.98915570069,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:52:21"}
{"ETH_NGN":2474570.330802838,"ETH_USD":1745.3379070821536,"USDT_NGN":1505.4957152591899,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 01:57:21"}
{"ETH_NGN":2487614.6758393124,"ETH_USD":1732.3333041812464,"USDT_NGN":1498.691062697164,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:02:21"}
{"ETH_NGN":2529918.2788415705,"ETH_USD":1723.0172454650908,"USDT_NGN":1506.0360623256254,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:07:21"}
{"ETH_NGN":2526714.133473862,"ETH_USD":1767.665324492347,"USDT_NGN":1512.423168111594,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:12:21"}
{"ETH_NGN":2554620.798386081,"ETH_USD":1810.3889998735438,"USDT_NGN":1513.4038267270976,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:17:21"}
{"ETH_NGN":2557604.57254574,"ETH_USD":1783.9882407607165,"USDT_NGN":1512.5299162310773,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:22:21"}
{"ETH_NGN":2527313.249322729,"ETH_USD":1798.8045276649066,"USDT_NGN":1516.052889504244,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:27:21"}
{"ETH_NGN":2486024.036373698,"ETH_USD":1831.8327334712228,"USDT_NGN":1515.1284378894266,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:32:22"}
{"ETH_NGN":2528671.8330048616,"ETH_USD":1879.5672363773513,"USDT_NGN":1510.3830462962487,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 02:37:22"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:39:24"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:39:24"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:39:25"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:39:25"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:39:26"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:39:26"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 11:39:26"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:39:26"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:39:26"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:39:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:39:27"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:39:27"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:39:27"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:39:27"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 11:40:29"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 11:40:29"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 11:40:29"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 11:40:29"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 11:40:29"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:40:29"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:40:29"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:40:31"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:40:31"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:40:32"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:40:32"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:40:32"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:40:32"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:40:32"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:40:33"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:40:33"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 11:40:33"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:40:34"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:40:34"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:40:34"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761043233919,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761043234343,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 11:40:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:41:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761043233919,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761043234343,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 11:41:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:41:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:41:30"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:41:31"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761043233919,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761043291994,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 11:41:59"}
{"level":"info","message":"Circuit breaker closed for primary","service":"kudipay-backend","timestamp":"2025-10-21 11:42:29"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:42:29"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:42:29"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:42:30"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:42:30"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:42:31"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:42:31"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 11:42:31"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:42:31"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:42:31"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:42:31"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:42:32"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:42:33"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:42:33"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:42:33"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761043351439,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761043353129,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 11:42:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761043351439,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761043353129,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 11:43:29"}
{"ageMinutes":781,"level":"warn","message":"Chainlink price is stale","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30","updatedAt":"2025-10-20T21:42:09.000Z"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"level":"info","message":"Circuit breaker closed for primary","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:43:31"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:43:32"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:43:32"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:43:32"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:44:29"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:44:29"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:44:30"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:44:30"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 11:44:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:44:31"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:44:32"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:44:32"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:44:32"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:44:32"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 11:44:33"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:44:33"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:44:33"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:44:33"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-21 11:44:59"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-21 11:44:59"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"kudipay-backend","timestamp":"2025-10-21 11:45:00"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-21 11:45:00"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-21 11:45:00"}
{"ETH_NGN":2496215.221498057,"ETH_USD":1690.3620437744046,"USDT_NGN":1500.6560339407056,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 11:49:59"}
{"level":"info","message":"USSD Request: +2348169874966 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 11:50:54"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:10:50:54 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 11:50:54"}
{"level":"info","message":"USSD Request: +2348169874966 - 1","service":"kudipay-backend","timestamp":"2025-10-21 11:51:13"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:10:51:13 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 11:51:13"}
{"level":"info","message":"USSD Request: +2348169874966 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 11:51:18"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:10:51:18 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 11:51:18"}
{"level":"info","message":"USSD Request: +2348169874966 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 11:51:23"}
{"level":"info","message":"Creating wallet for +2348169874966...","service":"kudipay-backend","timestamp":"2025-10-21 11:51:24"}
{"level":"info","message":"Mapping +2348169874966 to 0x5C2ece3db385264cB5446FD26FF8E989b02C9533 on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 11:51:24"}
{"level":"info","message":"Transaction submitted: 0x1bede5d06e1404f435b28910a5503985a4b180018994576ff082b3ef05a7d82c","service":"kudipay-backend","timestamp":"2025-10-21 11:51:26"}
{"level":"info","message":"Mapping confirmed in block 32637800","service":"kudipay-backend","timestamp":"2025-10-21 11:51:26"}
{"block":32637800,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2348169874966","service":"kudipay-backend","timestamp":"2025-10-21 11:51:26","txHash":"0x1bede5d06e1404f435b28910a5503985a4b180018994576ff082b3ef05a7d82c","wallet":"0x5C2ece3db385264cB5446FD26FF8E989b02C9533"}
{"blockchainTxHash":"0x1bede5d06e1404f435b28910a5503985a4b180018994576ff082b3ef05a7d82c","level":"info","message":"Wallet created successfully for +2348169874966:","service":"kudipay-backend","timestamp":"2025-10-21 11:51:26","userId":3,"walletAddress":"0x5C2ece3db385264cB5446FD26FF8E989b02C9533"}
{"level":"info","message":"Sending SMS to +2348169874966...","service":"kudipay-backend","timestamp":"2025-10-21 11:51:26"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:10:51:26 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 66 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 11:51:26"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_25f36a9042e7af735cd99a318bbc029f","phone":"+2348169874966","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 11:51:27"}
{"level":"info","message":"USSD Request: +2348169874966 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 11:53:53"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:10:53:53 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 11:53:53"}
{"level":"info","message":"USSD Request: +2348169874966 - 2","service":"kudipay-backend","timestamp":"2025-10-21 11:54:13"}
{"level":"info","message":"Sending SMS to +2348169874966...","service":"kudipay-backend","timestamp":"2025-10-21 11:54:14"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:10:54:14 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 11:54:14"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_8410ca2f87897bdcccbfaab1d4bc031f","phone":"+2348169874966","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 11:54:16"}
{"ETH_NGN":2544114.3596970015,"ETH_USD":1680.9095566093863,"USDT_NGN":1500.235827612259,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 11:54:59"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:56:09"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:56:09"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 11:56:11"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 11:56:11"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:56:11"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-21 11:56:13"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"kudipay-backend","timestamp":"2025-10-21 11:59:01"}
{"ETH_NGN":2580901.7035606336,"ETH_USD":1706.0635477078708,"USDT_NGN":1503.6638438305986,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 11:59:59"}
{"ETH_NGN":2578049.936535156,"ETH_USD":1738.9876800071531,"USDT_NGN":1509.4173558398873,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 12:04:59"}
{"level":"info","message":"USSD Request: +2347053538813 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 12:06:45"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:06:45 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:06:45"}
{"level":"info","message":"USSD Request: +2347053538813 - 1","service":"kudipay-backend","timestamp":"2025-10-21 12:06:51"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:06:51 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:06:51"}
{"level":"info","message":"USSD Request: +2347053538813 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 12:06:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:07:00 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:07:00"}
{"level":"info","message":"USSD Request: +2347053538813 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 12:07:20"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:07:20 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:07:20"}
{"level":"info","message":"USSD Request: +2347053538813 - 1","service":"kudipay-backend","timestamp":"2025-10-21 12:07:39"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:07:39 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:07:39"}
{"level":"info","message":"USSD Request: +2347053538813 - 1*1234","service":"kudipay-backend","timestamp":"2025-10-21 12:07:44"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:07:44 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:07:44"}
{"level":"info","message":"USSD Request: +2347053538813 - 1*1234*1234","service":"kudipay-backend","timestamp":"2025-10-21 12:07:49"}
{"level":"info","message":"Creating wallet for +2347053538813...","service":"kudipay-backend","timestamp":"2025-10-21 12:07:51"}
{"level":"info","message":"Mapping +2347053538813 to 0x7ce4c217D25ae93566017E6798B992497F72a000 on-chain...","service":"kudipay-backend","timestamp":"2025-10-21 12:07:51"}
{"level":"info","message":"Transaction submitted: 0x327808b35dfe615f85f674ccba437540b93a9c057cb347841c011134027a50ff","service":"kudipay-backend","timestamp":"2025-10-21 12:07:53"}
{"level":"info","message":"Mapping confirmed in block 32638293","service":"kudipay-backend","timestamp":"2025-10-21 12:07:53"}
{"block":32638293,"gasUsed":"126700","level":"info","message":"Blockchain registration successful:","phone":"+2347053538813","service":"kudipay-backend","timestamp":"2025-10-21 12:07:53","txHash":"0x327808b35dfe615f85f674ccba437540b93a9c057cb347841c011134027a50ff","wallet":"0x7ce4c217D25ae93566017E6798B992497F72a000"}
{"blockchainTxHash":"0x327808b35dfe615f85f674ccba437540b93a9c057cb347841c011134027a50ff","level":"info","message":"Wallet created successfully for +2347053538813:","service":"kudipay-backend","timestamp":"2025-10-21 12:07:53","userId":4,"walletAddress":"0x7ce4c217D25ae93566017E6798B992497F72a000"}
{"level":"info","message":"Sending SMS to +2347053538813...","service":"kudipay-backend","timestamp":"2025-10-21 12:07:53"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:07:53 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 66 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:07:53"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_61326b761441f8f388ceeced52ff7f15","phone":"+2347053538813","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 12:07:54"}
{"level":"info","message":"USSD Request: +2347053538813 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 12:08:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:08:23 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:08:23"}
{"level":"info","message":"USSD Request: +2347053538813 - 2","service":"kudipay-backend","timestamp":"2025-10-21 12:09:13"}
{"code":"ETIMEDOUT","level":"error","message":"Get balance error:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1122:18)\n    at internalConnectMultiple (node:net:1190:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1716:5)\n    at listOnTimeout (node:internal/timers:583:11)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2025-10-21 12:09:14"}
{"code":"ETIMEDOUT","level":"error","message":"Get balance error:","service":"kudipay-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1122:18)\n    at internalConnectMultiple (node:net:1190:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1716:5)\n    at listOnTimeout (node:internal/timers:583:11)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2025-10-21 12:09:14"}
{"level":"error","message":"Check balance error: Failed to retrieve balance","service":"kudipay-backend","stack":"Error: Failed to retrieve balance\n    at WalletService.getBalance (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:122:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handleCheckBalance (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:185:23)\n    at async UssdService.handleMainMenuInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:117:16)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:55:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:38:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-21 12:09:14"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:09:14 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 52 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:09:14"}
{"level":"info","message":"USSD Request: +2347053538813 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 12:09:21"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:09:21 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:09:21"}
{"level":"info","message":"USSD Request: +2347053538813 - 2","service":"kudipay-backend","timestamp":"2025-10-21 12:09:26"}
{"level":"info","message":"Sending SMS to +2347053538813...","service":"kudipay-backend","timestamp":"2025-10-21 12:09:27"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:09:27 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 59 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:09:27"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_f2d709e51368915b85441a49a6c68fab","phone":"+2347053538813","service":"kudipay-backend","status":"Success","statusCode":101,"timestamp":"2025-10-21 12:09:28"}
{"level":"info","message":"USSD Request: +2347053538813 - Initial","service":"kudipay-backend","timestamp":"2025-10-21 12:09:58"}
{"level":"info","message":"::ffff:127.0.0.1 - - [21/Oct/2025:11:09:58 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"kudipay-backend","timestamp":"2025-10-21 12:09:58"}
{"ETH_NGN":2589521.200830122,"ETH_USD":1702.2294677059103,"USDT_NGN":1501.0736096050118,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 12:09:59"}
{"ETH_NGN":2624865.979933132,"ETH_USD":1751.7093833219158,"USDT_NGN":1492.0273070234066,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 12:14:59"}
{"ETH_NGN":2592103.1644252497,"ETH_USD":1730.615816743597,"USDT_NGN":1482.4044640560205,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 12:19:59"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:22:01"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:22:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:22:02"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:22:02"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:22:03"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:22:03"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 12:22:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:22:04"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:22:04"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:22:04"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:22:05"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:22:05"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:22:05"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:22:05"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045723558,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761045725579,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:22:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:23:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045723558,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761045725579,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:23:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:23:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:23:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:23:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:23:02"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:23:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:23:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:23:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:23:03"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:23:03"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045723558,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761045783440,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:23:30"}
{"level":"info","message":"Circuit breaker closed for primary","service":"kudipay-backend","timestamp":"2025-10-21 12:24:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:24:01"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:24:02"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:02"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:24:03"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:24:04"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:24:04"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:04"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:24:05"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:05"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 12:24:05"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:24:05"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:24:05"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:05"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045845278,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761045845553,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:24:30"}
{"ETH_NGN":2543305.800434343,"ETH_USD":1689.2112501853258,"USDT_NGN":1475.1168336599721,"level":"info","message":"Exchange rates updated","service":"kudipay-backend","timestamp":"2025-10-21 12:24:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:24:59"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:24:59"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:59"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 12:24:59"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:24:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:00"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045845278,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761045899951,"status":"CIRCUIT_OPEN"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:25:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:01"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:01"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:01"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:25:01"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045845278,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761045899951,"status":"CIRCUIT_OPEN"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:25:30"}
{"level":"info","message":"Circuit breaker closed for primary","service":"kudipay-backend","timestamp":"2025-10-21 12:26:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761045845278,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761045899951,"status":"CIRCUIT_OPEN"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:26:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:26:00"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:26:00"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"kudipay-backend","timestamp":"2025-10-21 12:26:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:26:01"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:26:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:26:02"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:26:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 12:26:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:26:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:26:03"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:26:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:26:04"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:26:04"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:26:04"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:26:04"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045962637,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761045964493,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:26:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045962637,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761045964493,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"ageMinutes":824,"level":"warn","message":"Chainlink price is stale","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00","updatedAt":"2025-10-20T21:42:09.000Z"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:27:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:27:01"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:27:01"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:27:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 12:27:02"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761045962637,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761046022872,"status":"CIRCUIT_OPEN"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:27:30"}
{"level":"info","message":"Circuit breaker closed for primary","service":"kudipay-backend","timestamp":"2025-10-21 12:28:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761045962637,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761046022872,"status":"CIRCUIT_OPEN"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:28:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:28:00"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:28:00"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:28:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-21 12:28:01"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:28:01"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:28:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-21 12:28:02"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:28:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-21 12:28:02"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:28:02"}
{"level":"warn","message":"CoinGecko failed:","service":"kudipay-backend","timestamp":"2025-10-21 12:28:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"kudipay-backend","timestamp":"2025-10-21 12:28:03"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"kudipay-backend","timestamp":"2025-10-21 12:28:03"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761046082194,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761046022872,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-21 12:28:30"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-23 11:37:06"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-23 11:37:07"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Database connection failed: connect ECONNREFUSED 127.0.0.1:5432","port":5432,"service":"kudipay-backend","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/home/otowo-samuel/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/otowo-samuel/Documents/kudipay_backend/backend/src/index.js:65:5)","syscall":"connect","timestamp":"2025-10-23 11:37:07"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-23 11:37:07"}
{"level":"info","message":"KudiPay Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-23 11:37:07"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-23 11:37:07"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:37:08"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:37:08"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:37:09"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:37:09"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:37:10"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:37:10"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:37:12"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:37:12"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-23 11:37:12"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761215832219,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":null,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-23 11:37:37"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-23 11:37:57"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-23 11:37:58"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Database connection failed: connect ECONNREFUSED 127.0.0.1:5432","port":5432,"service":"kudipay-backend","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/home/otowo-samuel/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/otowo-samuel/Documents/kudipay_backend/backend/src/index.js:65:5)","syscall":"connect","timestamp":"2025-10-23 11:37:58"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-23 11:37:58"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-23 11:37:58"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-23 11:37:58"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:37:58"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:37:58"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:37:59"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:37:59"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:38:00"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:01"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:01"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-23 11:38:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:01"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:01"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:01"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761215881112,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761215881634,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-23 11:38:28"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"kudipay-backend","timestamp":"2025-10-23 11:38:39"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"kudipay-backend","supportedPairs":9,"timestamp":"2025-10-23 11:38:39"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Database connection failed: connect ECONNREFUSED 127.0.0.1:5432","port":5432,"service":"kudipay-backend","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/home/otowo-samuel/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/otowo-samuel/Documents/kudipay_backend/backend/src/index.js:65:5)","syscall":"connect","timestamp":"2025-10-23 11:38:40"}
{"level":"warn","message":"Continuing in demo mode without database","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"level":"info","message":"Environment: development","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:40"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:38:41"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:41"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:42"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"kudipay-backend","timestamp":"2025-10-23 11:38:42"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:42"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:43"}
{"level":"error","message":"Provider primary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:43"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"kudipay-backend","timestamp":"2025-10-23 11:38:43"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:43"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"kudipay-backend","timestamp":"2025-10-23 11:38:43"}
{"level":"error","message":"Provider secondary failed:","service":"kudipay-backend","timestamp":"2025-10-23 11:38:43"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761215923197,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761215923564,"status":"HEALTHY"}},"service":"kudipay-backend","timestamp":"2025-10-23 11:39:09"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:39:22"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:39:23"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Database connection failed: connect ECONNREFUSED 127.0.0.1:5432","port":5432,"service":"terifi-backend","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/home/otowo-samuel/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/otowo-samuel/Documents/kudipay_backend/backend/src/index.js:65:5)","syscall":"connect","timestamp":"2025-10-23 11:39:23"}
{"level":"warn","message":"Continuing in demo mode without database","service":"terifi-backend","timestamp":"2025-10-23 11:39:23"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:39:23"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:39:23"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:39:23"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:39:23"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:39:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:39:24"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:39:25"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:39:25"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:39:25"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:39:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:39:25"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:39:27"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:39:27"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 11:39:27"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:39:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:39:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:39:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761215967786,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761215968210,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:39:53"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:39:59"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:40:00"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"Database connection failed: connect ECONNREFUSED 127.0.0.1:5432","port":5432,"service":"terifi-backend","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/otowo-samuel/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async connectDB (/home/otowo-samuel/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/otowo-samuel/Documents/kudipay_backend/backend/src/index.js:65:5)","syscall":"connect","timestamp":"2025-10-23 11:40:00"}
{"level":"warn","message":"Continuing in demo mode without database","service":"terifi-backend","timestamp":"2025-10-23 11:40:00"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:40:00"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:40:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:40:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:40:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:40:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:40:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:40:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:40:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:40:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:40:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:40:03"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:40:03"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:40:03"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 11:40:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:40:04"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:40:04"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:40:04"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216003751,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216004032,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:40:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:40:59"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216003751,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216004032,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:41:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:41:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:41:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:41:02"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216003751,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216062972,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:41:30"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-23 11:41:59"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:42:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:42:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:42:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:42:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:42:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:42:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 11:42:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:42:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:42:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:42:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:42:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:42:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:42:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:42:03"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216122255,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216123852,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:42:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:42:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216122255,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216123852,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"ageMinutes":780,"level":"warn","message":"Chainlink price is stale","service":"terifi-backend","timestamp":"2025-10-23 11:43:00","updatedAt":"2025-10-22T21:42:55.000Z"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:43:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:43:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:43:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:43:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:43:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:43:02"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 11:43:02"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216122255,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761216182328,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-23 11:43:30"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-23 11:44:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761216122255,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761216182328,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-23 11:44:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:44:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:44:00"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:44:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-23 11:44:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:44:03"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216242620,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761216182328,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:44:30"}
{"ETH_NGN":2517152.9945714297,"ETH_USD":1650.2176723798937,"USDT_NGN":1503.4748296698715,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-23 11:44:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:44:59"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:44:59"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:44:59"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-23 11:44:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:45:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216242620,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761216299944,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:45:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:45:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:45:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:45:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:45:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:45:02"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-23 11:45:02"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:45:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:45:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:45:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:45:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:45:03"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:46:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:46:00"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 11:46:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:46:01"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:46:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:46:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:46:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:46:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:46:02"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:46:03"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:46:03"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 11:46:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:46:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:46:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:46:03"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216363324,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216363582,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:46:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:47:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216363324,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216363582,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:47:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:47:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:47:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:47:01"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 11:47:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:47:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 11:47:02"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:47:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 11:47:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 11:47:02"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761216363324,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761216422774,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 11:47:30"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-23 11:48:00"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:48:43"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:48:44"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-23 11:48:44"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:48:44"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:48:44"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:49:18"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:49:18"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-23 11:49:18"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:49:18"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:49:18"}
{"level":"info","message":"USSD Request: +2349158866988 - Initial","service":"terifi-backend","timestamp":"2025-10-23 11:51:09"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:10:51:09 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 11:51:09"}
{"level":"info","message":"USSD Request: +2349158866988 - 1","service":"terifi-backend","timestamp":"2025-10-23 11:51:16"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:10:51:16 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 11:51:16"}
{"level":"info","message":"USSD Request: +2349158866988 - 1*1234","service":"terifi-backend","timestamp":"2025-10-23 11:51:21"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:10:51:21 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 11:51:21"}
{"level":"info","message":"USSD Request: +2349158866988 - 1*1234*1234","service":"terifi-backend","timestamp":"2025-10-23 11:51:26"}
{"level":"error","message":"Create wallet error: Invalid phone number format. Use: 08012345678 or 8012345678","service":"terifi-backend","stack":"Error: Invalid phone number format. Use: 08012345678 or 8012345678\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:20:15)\n    at UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:163:46)\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:61:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:38:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-23 11:51:26"}
{"level":"error","message":"Registration error: Invalid phone number format. Use: 08012345678 or 8012345678","service":"terifi-backend","stack":"Error: Invalid phone number format. Use: 08012345678 or 8012345678\n    at WalletService.createWallet (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/walletService.js:20:15)\n    at UssdService.handlePinConfirmation (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:163:46)\n    at UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:61:27)\n    at UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:38:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-23 11:51:26"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:10:51:26 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 48 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 11:51:26"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:53:27"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:53:27"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-23 11:53:28"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:53:28"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:53:28"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:57:03"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:57:03"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-23 11:57:03"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:57:03"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:57:03"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-23 11:58:05"}
{"level":"info","message":"USSD Request: +2348033157043 - Initial","service":"terifi-backend","timestamp":"2025-10-23 11:58:18"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:10:58:18 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 11:58:18"}
{"level":"info","message":"USSD Request: +2348033157043 - 1","service":"terifi-backend","timestamp":"2025-10-23 11:58:23"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:10:58:24 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 57 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 11:58:24"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-23 11:59:55"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-23 11:59:55"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-23 11:59:56"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-23 11:59:56"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-23 11:59:56"}
{"level":"info","message":"USSD Request: +2348028404723 - Initial","service":"terifi-backend","timestamp":"2025-10-23 12:00:58"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:00:59 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:00:59"}
{"level":"info","message":"USSD Request: +2348028404723 - 1","service":"terifi-backend","timestamp":"2025-10-23 12:01:03"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:03 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 40 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:03"}
{"level":"info","message":"USSD Request: +2348028404723 - 1*1234","service":"terifi-backend","timestamp":"2025-10-23 12:01:07"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:07 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 29 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:07"}
{"level":"info","message":"USSD Request: +2348028404723 - 1*1234*1234","service":"terifi-backend","timestamp":"2025-10-23 12:01:11"}
{"level":"info","message":"Creating wallet for +2348028404723...","service":"terifi-backend","timestamp":"2025-10-23 12:01:13"}
{"level":"info","message":"Mapping +2348028404723 to 0xbD70C1D7D0DAB79765D52DCD60A07b34DBB124c8 on-chain...","service":"terifi-backend","timestamp":"2025-10-23 12:01:13"}
{"level":"info","message":"Transaction submitted: 0x2e2874c963e08aaf3b0c1f2b82ac5c338954670eba70414956fb8b65c03c696b","service":"terifi-backend","timestamp":"2025-10-23 12:01:16"}
{"level":"info","message":"Mapping confirmed in block 32724495","service":"terifi-backend","timestamp":"2025-10-23 12:01:16"}
{"block":32724495,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2348028404723","service":"terifi-backend","timestamp":"2025-10-23 12:01:16","txHash":"0x2e2874c963e08aaf3b0c1f2b82ac5c338954670eba70414956fb8b65c03c696b","wallet":"0xbD70C1D7D0DAB79765D52DCD60A07b34DBB124c8"}
{"blockchainTxHash":"0x2e2874c963e08aaf3b0c1f2b82ac5c338954670eba70414956fb8b65c03c696b","level":"info","message":"Wallet created successfully for +2348028404723:","service":"terifi-backend","timestamp":"2025-10-23 12:01:16","userId":5,"walletAddress":"0xbD70C1D7D0DAB79765D52DCD60A07b34DBB124c8"}
{"level":"info","message":"Sending SMS to +2348028404723...","service":"terifi-backend","timestamp":"2025-10-23 12:01:16"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:16 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 66 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:16"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_ad9127a139be3e8478d8d2dac4e229a3","phone":"+2348028404723","service":"terifi-backend","status":"Success","statusCode":101,"timestamp":"2025-10-23 12:01:18"}
{"level":"info","message":"USSD Request: +2348028404723 - Initial","service":"terifi-backend","timestamp":"2025-10-23 12:01:24"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:24 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:24"}
{"level":"info","message":"USSD Request: +2348028404723 - 2","service":"terifi-backend","timestamp":"2025-10-23 12:01:29"}
{"level":"info","message":"Sending SMS to +2348028404723...","service":"terifi-backend","timestamp":"2025-10-23 12:01:30"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:30 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 55 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:30"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_1848ed964539b2246827be4d7cb041e6","phone":"+2348028404723","service":"terifi-backend","status":"Success","statusCode":101,"timestamp":"2025-10-23 12:01:34"}
{"level":"info","message":"USSD Request: +2348028404723 - Initial","service":"terifi-backend","timestamp":"2025-10-23 12:01:34"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:34 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:34"}
{"level":"info","message":"USSD Request: +2348028404723 - 4","service":"terifi-backend","timestamp":"2025-10-23 12:01:43"}
{"level":"error","message":"Transaction history error: Transaction is not defined","service":"terifi-backend","stack":"ReferenceError: Transaction is not defined\n    at UssdService.handleTransactionHistory (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:291:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UssdService.handleMainMenuInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:123:16)\n    at async UssdService.processUserInput (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:55:16)\n    at async UssdService.processRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/services/ussdService.js:38:14)\n    at async handleUssdRequest (/home/otowo-samuel/Documents/kudipay_backend/backend/src/controllers/ussdController.js:16:24)","timestamp":"2025-10-23 12:01:43"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:43 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 64 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:43"}
{"level":"info","message":"USSD Request: +2348028404723 - Initial","service":"terifi-backend","timestamp":"2025-10-23 12:01:49"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:49 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 150 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:49"}
{"level":"info","message":"USSD Request: +2348028404723 - 5","service":"terifi-backend","timestamp":"2025-10-23 12:01:53"}
{"level":"info","message":"::ffff:127.0.0.1 - - [23/Oct/2025:11:01:53 +0000] \"POST /api/ussd/callback HTTP/1.1\" 200 61 \"-\" \"at-ussd-api/1.0\"","service":"terifi-backend","timestamp":"2025-10-23 12:01:53"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:04:05"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:05"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 12:04:06"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:04:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:06"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:08"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:16"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:24"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:04:24"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:24"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-23 12:04:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 12:04:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:04:44"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:44"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 12:04:44"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:04:45"}
{"ETH_NGN":2538741.9608224556,"ETH_USD":1693.4222987509756,"USDT_NGN":1493.8732162554554,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-23 12:04:54"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:04:55"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:04:55"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:55"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-23 12:04:55"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:04:55"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":1,"lastFailure":1761217464181,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761217484734,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761217495590,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:04:55"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 12:05:00"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:05:00"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:00"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:03"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:08"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:11"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:05:11"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:11"}
{"level":"error","message":"Failed to fetch fiat rates:","service":"terifi-backend","timestamp":"2025-10-23 12:05:11"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:16"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:24"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:05:24"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:24"}
{"level":"error","message":"Circuit breaker opened for fallback after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 12:05:24"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-23 12:05:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:05:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:05:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":3,"lastFailure":1761217524701,"status":"CIRCUIT_OPEN"},"primary":{"failures":3,"lastFailure":1761217484734,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761217500672,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:05:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:05:26"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:05:26"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:05:26"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:05:26"}
{"level":"warn","message":"Circuit breaker open for fallback, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:05:26"}
{"level":"error","message":"Failed to fetch BTC/USD:","service":"terifi-backend","timestamp":"2025-10-23 12:05:26"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-23 12:05:55"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":3,"lastFailure":1761217524701,"status":"CIRCUIT_OPEN"},"primary":{"failures":0,"lastFailure":1761217484734,"status":"HEALTHY"},"secondary":{"failures":1,"lastFailure":1761217526363,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:05:55"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:06:05"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:06:05"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 12:06:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:06:06"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:06:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:06:07"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 12:06:07"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"warn","message":"Circuit breaker open for fallback, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"error","message":"Failed to fetch BTC/NGN:","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"warn","message":"Circuit breaker open for fallback, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"error","message":"Failed to fetch BTC/USD:","service":"terifi-backend","timestamp":"2025-10-23 12:06:08"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":3,"lastFailure":1761217524701,"status":"CIRCUIT_OPEN"},"primary":{"failures":3,"lastFailure":1761217567551,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761217568483,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:06:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:06:55"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":3,"lastFailure":1761217524701,"status":"CIRCUIT_OPEN"},"primary":{"failures":3,"lastFailure":1761217567551,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761217568483,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:06:55"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:06:56"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:06:56"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:06:57"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:06:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:06:57"}
{"level":"info","message":"Circuit breaker closed for fallback","service":"terifi-backend","timestamp":"2025-10-23 12:06:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:07:03"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:07:08"}
{"error":"Failed to read Chainlink feed for BTC/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:07:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:07:08"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761217524701,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761217567551,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761217628406,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:07:25"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-23 12:07:55"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:08:05"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:08:05"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-23 12:08:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:08:06"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:08:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:08:07"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-23 12:08:07"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-23 12:08:08"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-23 12:08:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-23 12:08:08"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-23 12:08:13"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761217524701,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761217687777,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761217688334,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-23 12:08:25"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 20:17:05"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 20:17:06"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"terifi-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:71:5)","timestamp":"2025-10-24 20:17:16"}
{"level":"warn","message":"Continuing in demo mode without database","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 20:17:16"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:17:17"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:17:21"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:17:21"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:17:37"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:37"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:17:38"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:17:38"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:38"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:38"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:17:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:55"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:17:55"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:17:55"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:55"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:17:55"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:17:56"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761333475115,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761333475635,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:18:06"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:18:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:18:06"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:18:06"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:18:06"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 20:48:19"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 20:48:19"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:48:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:48:29"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:48:29"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:48:29"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Database connection failed: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"terifi-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/home/izk/Documents/kudipay_backend/backend/config/db.js:14:5)\n    at async startServer (/home/izk/Documents/kudipay_backend/backend/src/index.js:71:5)","timestamp":"2025-10-24 20:48:30"}
{"level":"warn","message":"Continuing in demo mode without database","service":"terifi-backend","timestamp":"2025-10-24 20:48:30"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 20:48:30"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 20:48:30"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:48:30"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:48:31"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:48:31"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:48:31"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:19:48:33 +0000] \"POST /api/user/register HTTP/1.1\" 400 63 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 20:48:33"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:48:37"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 20:48:45"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 20:48:53"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:48:53"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 20:48:53"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 20:48:53"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:49:03"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:03"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:49:14"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:14"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:49:14"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:49:14"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:14"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:20"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:49:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:29"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:49:29"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:49:34"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:49:34"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:49:37"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:37"}
{"level":"error","message":"Circuit breaker opened for primary after 4 failures","service":"terifi-backend","timestamp":"2025-10-24 20:49:37"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:40"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:49:40"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:49:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:40"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:49:40"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:41"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:49:47"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:49:47"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:49:48"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:49:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:49:48"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:49:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:49:49"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761335377574,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335380726,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:49:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761335377574,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335380726,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:50:19"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:50:20"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Register user error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"terifi-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:62:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:39:28)","timestamp":"2025-10-24 20:50:25"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:19:50:25 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 20:50:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:50:27"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761335377574,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335380726,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:50:49"}
{"code":"28P01","file":"auth.c","length":104,"level":"error","line":"331","message":"Register user error: password authentication failed for user \"postgres\"","name":"error","routine":"auth_failed","service":"terifi-backend","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:62:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:39:28)","timestamp":"2025-10-24 20:50:55"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:19:50:55 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 20:50:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 20:51:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761335377574,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761335380726,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:51:19"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:51:20"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:51:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:51:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:29"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 20:51:29"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:51:30"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:51:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:30"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:30"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:51:44"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:44"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:51:44"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:51:44"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:44"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:51:58"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:51:58"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:51:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:51:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:52:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335518257,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761335504927,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 20:52:19"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:52:20"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:52:20"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:20"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:20"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:52:23"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:52:24"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:52:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:52:25"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:52:25"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:52:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:25"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:52:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:52:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:52:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:52:27"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335518257,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335545835,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:52:49"}
{"ETH_NGN":2467591.6533835856,"ETH_USD":1634.6403962212285,"USDT_NGN":1503.7827411481003,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 20:53:19"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 20:53:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761335518257,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761335545835,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:53:19"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:53:20"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:53:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:53:29"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 20:53:29"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:53:30"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:53:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:53:30"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:53:30"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:53:47"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:53:47"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:53:48"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:53:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:53:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:53:48"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:54:01"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:03"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335641328,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335641849,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:54:19"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:20"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:20"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:54:22"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:54:23"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335641328,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335641849,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:54:49"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 20:55:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761335641328,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761335641849,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:55:19"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:55:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:29"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 20:55:29"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:55:30"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:55:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:30"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:30"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:55:42"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:42"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:55:42"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:55:42"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:42"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:43"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:55:59"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:56:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:02"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:02"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:56:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335759287,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335759804,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:56:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:23"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:23"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:23"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:56:23"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335759287,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335759804,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:56:49"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 20:57:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761335759287,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761335759804,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:57:19"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:57:26"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 20:57:27"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:57:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:57:29"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 20:57:29"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:57:34"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:57:34"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:57:34"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:57:41"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:57:53"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:57:53"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:57:53"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 20:57:53"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:57:53"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:57:54"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 20:58:06"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:58:07"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:08"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:08"}
{"ETH_NGN":2470979.283229022,"ETH_USD":1643.767909099759,"USDT_NGN":1500.7726811930029,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335886250,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335886769,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:58:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 20:58:22"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761335886250,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761335886769,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:58:49"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 20:59:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761335333089,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761335886250,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761335886769,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 20:59:19"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 21:18:56"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 21:18:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 21:19:07"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:19:12"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:19:12"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:12"}
{"code":"42P01","file":"parse_relation.c","length":104,"level":"error","line":"1466","message":"Register user error: relation \"users\" does not exist","name":"error","position":"15","routine":"parserOpenTable","service":"terifi-backend","severity":"ERROR","stack":"error: relation \"users\" does not exist\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.findByPhone (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:62:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:39:28)","timestamp":"2025-10-24 21:19:13"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:20:19:13 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 21:19:13"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:19:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:29"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:19:40"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:40"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:19:52"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:52"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:19:52"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:19:53"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:19:53"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:53"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:19:53"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:19:57"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337192822,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761337193344,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:19:57"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 21:20:01"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:20:01"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 21:20:01"}
{"level":"error","message":"Failed to fetch BTC/USD:","service":"terifi-backend","timestamp":"2025-10-24 21:20:01"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:20:02"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:20:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:20:02"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:20:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:20:10"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:20:10"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:20:10"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:20:10"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:20:10"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:20:12"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:20:12"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:20:12"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:20:12"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337192822,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337210878,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:20:27"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:20:57"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761337192822,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761337210878,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:20:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:21:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:07"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:07"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:07"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:21:23"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:23"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:21:23"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:21:23"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:21:23"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:23"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:21:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:35"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:21:35"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:36"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337295831,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761337283560,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"error":"","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"error":"Failed to read Chainlink feed for USDC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:57"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:58"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:21:59"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:21:59"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:59"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:21:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:22:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:22:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:22:01"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:22:02"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:22:02"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:22:02"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:22:03"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337295831,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761337322668,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:22:27"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:22:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:23:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:07"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:23:07"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:23:07"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:07"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:08"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:23:20"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:20"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:23:32"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:32"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:23:32"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:23:32"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:23:32"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:32"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:33"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:23:34"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:23:35"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:23:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:35"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:35"}
{"ETH_NGN":2515229.0350375623,"ETH_USD":1635.699214889844,"USDT_NGN":1497.4371630826988,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:23:56"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337412035,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337437082,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:23:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:24:00"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:24:00"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:24:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:24:00"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:24:00"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:24:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:24:01"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:24:01"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:24:02"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337412035,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337437082,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:24:27"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:24:57"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337201862,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761337412035,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761337437082,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:24:57"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:25:07"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:25:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:07"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:25:07"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:25:08"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:25:08"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:25:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:08"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:16"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:24"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:32"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:25:32"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:32"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 21:25:32"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:25:42"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:42"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:25:43"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:25:43"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:43"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:43"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:25:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:55"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:25:56"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:25:56"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:25:56"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:25:56"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337532537,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761337555591,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761337556109,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:25:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"error","message":"Circuit breaker opened for primary after 4 failures","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:07"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:26:15"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:26:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:22"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:22"}
{"code":"TIMEOUT","level":"error","message":"Error checking phone registration: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:26:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:26:26"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337532537,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761337567257,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337556109,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:26:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:30"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:26:30"}
{"code":"TIMEOUT","level":"error","message":"Error checking wallet registration: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:26:30"}
{"level":"info","message":"Creating wallet for +2349075878051...","service":"terifi-backend","timestamp":"2025-10-24 21:26:30"}
{"level":"info","message":"Mapping +2349075878051 to 0x9135593951BEEA3BC5B068aF900E83060A7FF811 on-chain...","service":"terifi-backend","timestamp":"2025-10-24 21:26:30"}
{"level":"info","message":"Transaction submitted: 0x3032b364724e72e3668487ed089c8c168cb29ba4391e10a76953f1b387ad392d","service":"terifi-backend","timestamp":"2025-10-24 21:26:33"}
{"level":"info","message":"Mapping confirmed in block 32784654","service":"terifi-backend","timestamp":"2025-10-24 21:26:34"}
{"block":32784654,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2349075878051","service":"terifi-backend","timestamp":"2025-10-24 21:26:34","txHash":"0x3032b364724e72e3668487ed089c8c168cb29ba4391e10a76953f1b387ad392d","wallet":"0x9135593951BEEA3BC5B068aF900E83060A7FF811"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1068","message":"Create wallet error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"terifi-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.create (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:70:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 21:26:34"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1068","message":"Register user error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"terifi-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.create (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:70:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 21:26:34"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:20:26:34 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 21:26:34"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 21:26:48"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 21:26:48"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 21:26:48"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 21:26:48"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 21:26:48"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:26:49"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:26:49"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:26:49"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking phone registration:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:26:53"}
{"level":"error","message":"Create wallet error: Wallet address already registered on blockchain","service":"terifi-backend","stack":"Error: Wallet address already registered on blockchain\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:44:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 21:26:54"}
{"level":"error","message":"Register user error: Wallet address already registered on blockchain","service":"terifi-backend","stack":"Error: Wallet address already registered on blockchain\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:44:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 21:26:54"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:20:26:54 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 21:26:54"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:26:58"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:26:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:27:09"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:27:09"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:27:10"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:27:10"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:27:10"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:27:10"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:27:22"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:27:22"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:27:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:27:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:27:48"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337642212,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761337630344,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:27:48"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:27:48"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:27:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:27:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:27:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:27:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:27:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:28:00"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337642212,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761337668865,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:28:18"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:28:48"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:28:58"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:28:58"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:29:03"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:29:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:03"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:04"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:12"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 21:29:24"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 21:29:24"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 21:29:24"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 21:29:24"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 21:29:24"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:29:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:29:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:29:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:29:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:34"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking phone registration:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:29:44"}
{"code":"ETIMEDOUT","level":"error","message":"Error checking wallet registration:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:29:45"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 21:29:45"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 21:29:45"}
{"code":"ETIMEDOUT","level":"error","message":"Error mapping phone to wallet:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:29:45"}
{"code":"ETIMEDOUT","level":"error","message":"Blockchain registration failed:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 21:29:45"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: ","service":"terifi-backend","stack":"Error: Failed to register on blockchain: \n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 21:29:45"}
{"level":"error","message":"Register user error: Failed to register on blockchain: ","service":"terifi-backend","stack":"Error: Failed to register on blockchain: \n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 21:29:45"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:20:29:45 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 21:29:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:29:47"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:47"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:29:48"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:29:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:29:48"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:30:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:30:02"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:30:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:30:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:03"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:04"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:12"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:17"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:30:17"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:17"}
{"level":"error","message":"Failed to fetch BTC/NGN:","service":"terifi-backend","timestamp":"2025-10-24 21:30:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:17"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:30:18"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:30:18"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:18"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:30:18"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337817644,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337802978,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337818163,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:30:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:26"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:30:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:30:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337817644,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337802978,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337818163,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:30:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:31:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337817644,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761337802978,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761337818163,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:31:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:31:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:31:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:31:34"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:31:34"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:31:34"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:31:34"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:31:35"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 21:31:43"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 21:31:51"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:31:51"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 21:31:51"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 21:31:51"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:01"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:06"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:06"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:07"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:32:23"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:23"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:32:23"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337911226,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337943640,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761337926252,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:32:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:24"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"error":"Failed to read Chainlink feed for USDC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:32:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:32:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:32:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337911226,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761337943640,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761337945789,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:32:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:33:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337911226,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761337943640,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761337945789,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:33:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:33:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:33:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:33:34"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:33:34"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:33:34"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:33:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:33:45"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:33:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:34:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:34:00"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:34:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:34:01"}
{"ETH_NGN":2467797.0663013426,"ETH_USD":1706.7979880601927,"USDT_NGN":1509.8236970640069,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:34:23"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:34:24"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:34:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:34:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:34:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:34:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337911226,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338040412,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761338064171,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:34:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:34:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:34:26"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:34:27"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:34:27"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:34:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:34:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:34:30"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761337911226,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338040412,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761338067353,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:34:54"}
{"level":"info","message":"::1 - - [24/Oct/2025:20:35:21 +0000] \"POST /__nextjs_original-stack-frames HTTP/1.1\" 404 45 \"http://localhost:3000/pages/password-pages/setup-password\" \"Mozilla/5.0 (Linux; Android 8.0.0; SM-G955U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36\"","service":"terifi-backend","timestamp":"2025-10-24 21:35:21"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:35:24"}
{"error":"Binance API request failed: getaddrinfo EAI_AGAIN api.binance.com","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:35:26"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:26"}
{"error":"getaddrinfo EAI_AGAIN mainnet.base.org","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:35:26"}
{"error":"Failed to read Chainlink feed for ETH/USD: getaddrinfo EAI_AGAIN mainnet.base.org","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:35:26"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:26"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:26"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:35:29"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:35:29"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:34"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:42"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:35:42"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:42"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 21:35:42"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:35:52"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:52"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:35:53"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:35:53"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:53"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:35:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:36:10"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:10"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:36:11"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:36:11"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:11"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:36:11"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761338170949,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761338171465,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:36:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:36:31"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:31"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:36:31"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:31"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:36:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:34"}
{"level":"error","message":"Circuit breaker opened for primary after 4 failures","service":"terifi-backend","timestamp":"2025-10-24 21:36:34"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:34"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:39"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:36:42"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:43"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:43"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:43"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:43"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:43"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:36:43"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761338194197,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761338171465,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:36:54"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:37:24"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:37:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761338194197,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761338171465,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:37:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:37:24"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:37:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:37:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:37:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:37:26"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:37:26"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:37:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:37:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:37:31"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761338194197,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761338246217,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:37:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:38:24"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:38:33"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:38:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:38:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:38:45"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:38:45"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:38:46"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:38:46"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:38:46"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:38:46"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:38:58"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:38:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:39:11"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:39:11"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:39:11"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:39:11"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:39:11"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:39:11"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:39:12"}
{"ETH_NGN":2478208.7005191995,"ETH_USD":1701.3864910032041,"USDT_NGN":1506.158055755007,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:39:23"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338351204,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761338364171,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:39:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:39:26"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338351204,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761338364739,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:39:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:40:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761338351204,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761338364739,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:40:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:40:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:40:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:40:34"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:40:39"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:40:39"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:40:39"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:40:56"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:40:56"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:41:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:08"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:41:08"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:41:08"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:41:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:08"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:09"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:13"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:41:13"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:41:13"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:13"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338468285,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761338473549,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"error":"","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"error":"Failed to read Chainlink feed for USDC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"error","message":"Circuit breaker opened for secondary after 4 failures","service":"terifi-backend","timestamp":"2025-10-24 21:41:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:29"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:41:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:33"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:33"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:33"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:33"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:34"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:34"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:34"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:41:34"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338468285,"status":"CIRCUIT_OPEN"},"secondary":{"failures":4,"lastFailure":1761338484727,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:41:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:42:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761338468285,"status":"HEALTHY"},"secondary":{"failures":4,"lastFailure":1761338484727,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:42:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:42:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:42:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:42:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:42:45"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:42:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:42:56"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:42:56"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:42:56"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:42:57"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:42:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:42:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:42:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:43:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338576853,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761338577374,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:43:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:43:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:43:28"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:43:29"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:43:29"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:43:29"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:43:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:43:36"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:43:36"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:43:36"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:43:36"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:43:37"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338576853,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761338616991,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:43:54"}
{"ETH_NGN":2482911.6734617273,"ETH_USD":1729.2165227011658,"USDT_NGN":1496.8437043776123,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:44:23"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:44:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:44:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:44:34"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:44:34"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:44:34"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:44:34"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:44:34"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:44:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:44:47"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:44:47"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:44:47"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761338687194,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761338674801,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:44:54"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:45:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:45:00"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:45:00"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:02"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338700097,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761338674801,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:45:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:45:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338700097,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761338674801,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:45:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:46:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761338700097,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761338674801,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:46:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:46:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:46:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:46:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:46:50"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:46:50"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:47:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:47:01"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:47:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338821937,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761338674801,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:47:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"ageMinutes":1384,"level":"warn","message":"Chainlink price is stale","service":"terifi-backend","timestamp":"2025-10-24 21:47:25","updatedAt":"2025-10-23T21:43:01.000Z"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:47:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:27"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:47:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338821937,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761338848789,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:47:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:48:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:48:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:48:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:48:46"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:48:46"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:48:57"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:48:57"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:48:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:48:59"}
{"ETH_NGN":2465615.477051574,"ETH_USD":1719.4848992851948,"USDT_NGN":1496.1294720328199,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338937848,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761338964799,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:49:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:49:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:49:27"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:49:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:49:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:49:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:49:29"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:49:29"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:49:29"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:49:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761338937848,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761338969730,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:49:54"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:50:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:50:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:50:34"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:50:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:50:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:50:35"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:50:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:50:51"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:50:51"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:50:51"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761339051753,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339035571,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:50:54"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:51:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:51:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:51:02"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:03"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339062402,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339035571,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:51:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:51:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:51:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:51:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339062402,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339035571,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:51:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:52:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761339062402,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339035571,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:52:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:52:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:52:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:52:34"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:52:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:52:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:52:35"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:52:36"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:52:48"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:52:48"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:52:48"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:52:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:52:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:52:49"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:53:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:00"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:53:00"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:53:01"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:53:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:01"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:53:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:02"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339180882,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339181400,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:53:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:53:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:53:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339180882,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339181400,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:53:55"}
{"ETH_NGN":2446130.8012678875,"ETH_USD":1676.760153943693,"USDT_NGN":1501.492452249997,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:54:24"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:54:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761339180882,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339181400,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:54:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:54:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:54:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:54:34"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:54:34"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:54:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:54:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:54:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:54:52"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:54:52"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:54:52"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:54:52"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:54:52"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:54:53"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:55:04"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:55:04"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:55:04"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:55:05"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:55:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339304302,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761339292531,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:55:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:55:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:55:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:55:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:55:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:55:27"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:55:27"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:55:27"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:55:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:55:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:55:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:55:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339304302,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761339327788,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:55:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:56:24"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 21:56:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:56:34"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:56:34"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:56:40"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:56:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:56:40"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:56:48"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:00"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:01"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:01"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:57:12"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:12"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:24"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:57:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:57:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339444787,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761339421390,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 21:57:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:57:26"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:27"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:27"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:57:28"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:57:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:57:29"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:29"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:57:29"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:57:29"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:57:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339444787,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339449686,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:57:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 21:58:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761339444787,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339449686,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:58:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:58:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:58:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 21:58:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:58:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:58:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:58:35"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:58:36"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:58:47"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:58:47"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:58:48"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 21:58:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:58:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:58:48"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 21:59:01"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:09"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:09"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:10"}
{"ETH_NGN":2454961.592584497,"ETH_USD":1714.187135031491,"USDT_NGN":1510.5182183453942,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 21:59:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339541148,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339541666,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:59:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:26"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 21:59:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 21:59:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339541148,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339541666,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 21:59:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:00:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761339541148,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339541666,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:00:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:00:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:00:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:00:35"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:00:40"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:00:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:00:40"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:00:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:00:57"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:00:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:01:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:01:08"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:01:08"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:01:10"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:01:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339668778,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761339640059,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:01:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:01:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:01:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:01:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:01:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:01:28"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:01:28"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:01:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:01:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:01:32"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:01:33"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339668778,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761339688566,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:01:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:02:24"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:02:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:02:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:02:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:02:40"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:02:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:02:40"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:02:51"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:02:51"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:02:52"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:02:52"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:02:52"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:02:53"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:03:04"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:04"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:03:05"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:03:05"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:05"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:03:05"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:05"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:03:18"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:18"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:03:18"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:18"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339798186,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339785394,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:03:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:03:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:03:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339798186,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339785394,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:03:55"}
{"ETH_NGN":2431765.660837359,"ETH_USD":1758.6843042370917,"USDT_NGN":1514.1085563217248,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 22:04:24"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:04:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761338142294,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761339798186,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339785394,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:04:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:04:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:04:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:04:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:04:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:04:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:04:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:04:35"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:04:43"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 22:04:51"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 22:04:58"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:04:58"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 22:04:58"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 22:04:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:05:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:08"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:05:08"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:05:08"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:08"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:09"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:05:21"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:23"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:23"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339921028,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339921546,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:27"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:05:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:05:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761339921028,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761339921546,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:05:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:06:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761339921028,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761339921546,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:06:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:06:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:06:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:06:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:06:36"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:06:36"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:06:36"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:06:36"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:06:53"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:06:53"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:06:54"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:06:54"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:06:54"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:06:54"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:07:06"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:07:07"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:08"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:08"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:07:09"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340026132,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340026652,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:07:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:07:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:26"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:07:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:29"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:07:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340026132,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340026652,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:07:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:08:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761340026132,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761340026652,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:08:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:08:34"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:08:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:08:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:08:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:08:36"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:08:36"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:08:36"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:08:53"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:08:53"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:09:04"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:09:04"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:09:16"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:09:16"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:09:16"}
{"ETH_NGN":2472183.898041759,"ETH_USD":1736.3348846945325,"USDT_NGN":1512.5727993716912,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 22:09:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:09:24"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:09:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:09:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:09:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:09:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340156009,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761340164801,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:09:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:09:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:09:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:09:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:09:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:09:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:09:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:09:30"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340156009,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340165595,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:09:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:10:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:10:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:10:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:10:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:10:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:10:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:10:46"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:10:46"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:10:47"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:10:47"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:10:47"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:10:58"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:10:58"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:10:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:10:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340258371,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340247262,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"error":"","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"error":"Failed to read Chainlink feed for USDC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:11:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:26"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:11:26"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:11:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:11:27"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:11:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:11:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:11:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340258371,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761340288235,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:11:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:12:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:12:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:12:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:13:04"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:13:04"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:13:16"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:13:16"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:13:16"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:13:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:13:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340396065,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340288235,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:13:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:13:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:13:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:13:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:13:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:13:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:13:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761339898003,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340396065,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340405653,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:13:55"}
{"ETH_NGN":2445048.3691535075,"ETH_USD":1773.1766856333345,"USDT_NGN":1515.5471999631657,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 22:14:24"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:14:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:14:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:14:35"}
{"error":"read ETIMEDOUT","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:14:48"}
{"error":"Failed to read Chainlink feed for ETH/USD: read ETIMEDOUT","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:14:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:14:48"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:14:56"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:04"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:12"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:15:12"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:12"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 22:15:12"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:15:22"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:22"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:15:22"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:15:22"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:22"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:30"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:15:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:35"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:15:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"error","message":"Failed to fetch ETH/USD:","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:38"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:44"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:45"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:45"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:46"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:15:46"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:47"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:48"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:48"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:15:48"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340538866,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340535137,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340538380,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:15:55"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340538866,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340535137,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340538380,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:16:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:16:26"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340538866,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340535137,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340538380,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:16:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:17:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340538866,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761340535137,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761340538380,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:17:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:17:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:17:26"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:17:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:17:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:17:35"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:17:40"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:17:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:17:40"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:17:56"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:17:56"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:18:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:18:07"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:18:07"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:18:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340538866,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340687598,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340660183,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:18:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:18:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:18:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:18:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:18:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:18:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:18:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:18:29"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:18:30"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:18:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:18:30"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:18:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:18:30"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340538866,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340687598,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340710108,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:18:55"}
{"ETH_NGN":2400587.3704793267,"ETH_USD":1740.9080411613888,"USDT_NGN":1521.465972622445,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 22:19:24"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:19:24"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:19:26"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:19:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:19:35"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:19:35"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:19:35"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:19:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:19:46"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:19:46"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:19:47"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:19:47"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:19:47"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:19:47"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:20:00"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:01"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:09"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:17"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:20:17"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:17"}
{"level":"error","message":"Failed to fetch BTC/NGN:","service":"terifi-backend","timestamp":"2025-10-24 22:20:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:17"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:24"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":1,"lastFailure":1761340817379,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340800344,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340800860,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:20:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:32"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:33"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:33"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:20:33"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:33"}
{"level":"error","message":"Failed to fetch BTC/USD:","service":"terifi-backend","timestamp":"2025-10-24 22:20:33"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:40"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:40"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:40"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:40"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:20:41"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340800344,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761340800860,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:20:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:21:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761340800344,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761340800860,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:21:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:21:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:21:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:21:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:21:51"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:21:51"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:22:03"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:22:03"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:22:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:22:05"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:22:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340923446,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340800860,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:22:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:22:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:22:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:22:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:22:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:22:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:22:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761340923446,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761340945735,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:22:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:23:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:23:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:23:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:23:46"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:23:46"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:23:58"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:23:58"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:23:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:24:00"}
{"ETH_NGN":2397438.138795185,"ETH_USD":1784.2357250711384,"USDT_NGN":1513.1944219869622,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 22:24:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:24:24"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:24:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:24:24"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:24:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:24:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761341038298,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761341064804,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:24:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:24:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:24:28"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:24:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:24:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:24:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:24:29"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:24:29"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:24:30"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:24:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:24:30"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761341038298,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761341070114,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:24:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:25:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:25:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:25:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:25:46"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:25:46"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:25:47"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:25:47"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:25:47"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:26:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:26:02"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:26:02"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:04"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761341162856,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761341147215,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"error":"","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"error":"Failed to read Chainlink feed for USDC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:26:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:27"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:26:27"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:26:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:26:29"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:26:29"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:26:29"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:26:29"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761341162856,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761341189915,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 22:26:55"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:27:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:27:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:27:35"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:27:40"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:27:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:27:40"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:27:40"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:27:52"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:27:52"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:27:57"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:27:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:27:57"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:27:57"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:27:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:28:11"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:28:11"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:28:11"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:11"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:12"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:12"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:25"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:25"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761341291659,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761341277634,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:28:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:28:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:26"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:27"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:27"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:28:27"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761341291659,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761341277634,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:28:55"}
{"ETH_NGN":2411392.707522898,"ETH_USD":1798.200453932205,"USDT_NGN":1510.4410492530603,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 22:29:24"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 22:29:24"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761341291659,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761341277634,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:29:25"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:29:34"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:29:35"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:29:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:29:35"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-24 22:29:35"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:29:40"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:29:40"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:29:40"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:29:53"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:29:53"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:29:58"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:29:58"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:29:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:30:16"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:30:16"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:30:16"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:30:16"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:30:16"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:30:16"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761341416172,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761341416689,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:30:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:30:28"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:30:28"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:30:28"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:28"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:30:35"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:30:35"}
{"level":"error","message":"Circuit breaker opened for primary after 4 failures","service":"terifi-backend","timestamp":"2025-10-24 22:30:35"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:35"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:30:36"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:39"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:39"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:39"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:39"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:40"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-24 22:30:40"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:30:40"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761340833386,"status":"HEALTHY"},"primary":{"failures":4,"lastFailure":1761341435282,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761341416689,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-24 22:30:55"}
{"code":"TIMEOUT","level":"error","message":"Error checking phone registration: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 22:31:02"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 22:31:04"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 22:31:04"}
{"level":"info","message":"Transaction submitted: 0x8dbc17fe5f0930b88c242e37e131417032d57b39ac2fb837440fa80408c50461","service":"terifi-backend","timestamp":"2025-10-24 22:31:06"}
{"level":"info","message":"Mapping confirmed in block 32786590","service":"terifi-backend","timestamp":"2025-10-24 22:31:06"}
{"block":32786590,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2349028874824","service":"terifi-backend","timestamp":"2025-10-24 22:31:06","txHash":"0x8dbc17fe5f0930b88c242e37e131417032d57b39ac2fb837440fa80408c50461","wallet":"0x0E82Fed60552489faB78313Bc3844f37d45c77Ef"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1068","message":"Create wallet error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"terifi-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.create (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:70:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 22:31:06"}
{"code":"42703","file":"parse_target.c","length":137,"level":"error","line":"1068","message":"Register user error: column \"blockchain_tx_hash\" of relation \"users\" does not exist","name":"error","position":"139","routine":"checkInsertTargets","service":"terifi-backend","severity":"ERROR","stack":"error: column \"blockchain_tx_hash\" of relation \"users\" does not exist\n    at /home/izk/Documents/kudipay_backend/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async User.create (/home/izk/Documents/kudipay_backend/backend/src/models/User.js:53:20)\n    at async WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:70:20)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 22:31:06"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:21:31:06 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 22:31:06"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 22:45:51"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 22:45:51"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:46:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:01"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:46:01"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:46:01"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:46:06"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:46:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:06"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 22:46:11"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 22:46:11"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 22:46:11"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 22:46:11"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:14"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:22"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:30"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:46:30"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:30"}
{"level":"error","message":"Failed to fetch ETH/NGN:","service":"terifi-backend","timestamp":"2025-10-24 22:46:30"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:46:40"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:40"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:46:42"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:46:42"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:42"}
{"code":"TIMEOUT","level":"error","message":"Error checking phone registration: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 22:46:47"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 22:46:50"}
{"code":"TIMEOUT","level":"error","message":"Error checking wallet registration: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 22:46:52"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 22:46:52"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 22:46:52"}
{"code":"TIMEOUT","level":"error","message":"Error mapping phone to wallet: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 22:46:57"}
{"code":"TIMEOUT","level":"error","message":"Blockchain registration failed: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-24 22:46:57"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","stack":"Error: Failed to register on blockchain: request timeout (code=TIMEOUT, version=6.15.0)\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 22:46:57"}
{"level":"error","message":"Register user error: Failed to register on blockchain: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","stack":"Error: Failed to register on blockchain: request timeout (code=TIMEOUT, version=6.15.0)\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 22:46:57"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:21:46:57 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 22:46:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:47:01"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:47:01"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:47:03"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:47:03"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:47:03"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"error":"Failed to read Chainlink feed for BTC/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"level":"error","message":"Circuit breaker opened for secondary after 4 failures","service":"terifi-backend","timestamp":"2025-10-24 22:47:06"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 23:23:58"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 23:23:58"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 23:23:58"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 23:23:58"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 23:23:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:24:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:24:08"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:24:13"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:24:13"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:24:13"}
{"level":"error","message":"Error checking phone registration: (intermediate value).clone is not a function","service":"terifi-backend","stack":"TypeError: (intermediate value).clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:572:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:137:14)","timestamp":"2025-10-24 23:24:24"}
{"level":"error","message":"Error checking wallet registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:151:14)","timestamp":"2025-10-24 23:24:24"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 23:24:24"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 23:24:24"}
{"level":"error","message":"Error mapping phone to wallet: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:24:24"}
{"level":"error","message":"Blockchain registration failed: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:24:24"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:24:24"}
{"level":"error","message":"Register user error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:24:24"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:24:24 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:24:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:24:29"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:24:29"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:24:42"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:24:42"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:24:42"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:24:42"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:24:42"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:24:42"}
{"level":"error","message":"Error checking phone registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:137:14)","timestamp":"2025-10-24 23:24:44"}
{"level":"error","message":"Error checking wallet registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:151:14)","timestamp":"2025-10-24 23:24:44"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 23:24:44"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 23:24:44"}
{"level":"error","message":"Error mapping phone to wallet: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:24:44"}
{"level":"error","message":"Blockchain registration failed: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:24:44"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:24:44"}
{"level":"error","message":"Register user error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:24:44"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:24:44 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:24:44"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:24:47"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:24:47"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:24:47"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:24:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:24:58"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761344682101,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761344687973,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:24:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:25:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:25:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:25:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:25:03"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:25:03"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:25:03"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:25:04"}
{"level":"error","message":"Error checking phone registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:137:14)","timestamp":"2025-10-24 23:25:11"}
{"level":"error","message":"Error checking wallet registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:151:14)","timestamp":"2025-10-24 23:25:11"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 23:25:11"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 23:25:11"}
{"level":"error","message":"Error mapping phone to wallet: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:25:11"}
{"level":"error","message":"Blockchain registration failed: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:25:11"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:25:11"}
{"level":"error","message":"Register user error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:25:11"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:25:11 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:25:11"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761344682101,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761344703430,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:25:28"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:25:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:26:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:26:08"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:26:19"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:26:19"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:26:20"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:26:20"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:26:20"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:26:20"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:26:32"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:26:32"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:26:32"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:26:33"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:26:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:26:58"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761344792074,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761344780309,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:26:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:27:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:27:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:27:00"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:27:00"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:27:00"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:27:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:27:01"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:27:03"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:27:03"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:27:04"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:27:04"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:27:04"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761344792074,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761344824047,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:27:28"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:27:58"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:28:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:28:08"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:28:19"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:28:19"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:28:30"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:28:30"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:28:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:28:32"}
{"ETH_NGN":2455805.6069343225,"ETH_USD":1711.769092708921,"USDT_NGN":1496.0202198428003,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 23:28:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:28:58"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:28:58"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:28:58"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:28:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:28:58"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761344910641,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761344938245,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:28:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:28:59"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:29:00"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:29:01"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761344910641,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761344938245,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:29:28"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 23:29:51"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 23:29:52"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 23:29:57"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 23:29:57"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 23:29:57"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:30:02"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:30:02"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:30:07"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Error checking phone registration: (intermediate value).clone is not a function","service":"terifi-backend","stack":"TypeError: (intermediate value).clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:572:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:137:14)","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Error checking wallet registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:151:14)","timestamp":"2025-10-24 23:30:07"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 23:30:07"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Error mapping phone to wallet: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Blockchain registration failed: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:30:07"}
{"level":"error","message":"Register user error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:30:07"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:30:08 +0000] \"POST /api/user/register HTTP/1.1\" 500 54 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:30:08"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:30:19"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:30:19"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 23:30:21"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 23:30:21"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 23:30:21"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 23:30:21"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 23:30:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:30:31"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:30:31"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:30:42"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:30:42"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:30:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:30:55"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:30:55"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:30:56"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:31:21"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345055430,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":null,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:31:21"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:31:22"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:31:22"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:31:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:31:23"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:31:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:31:25"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:31:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:31:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:31:28"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345055430,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761345088225,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:31:51"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:32:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:32:31"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:32:31"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:32:42"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:32:42"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:32:54"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:32:54"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:32:54"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:32:55"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:21"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345174204,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345088225,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:33:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:22"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:33:22"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:33:22"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:33:23"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:33:23"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:33:23"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:33:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:25"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:25"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:33:26"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:33:26"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:33:26"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:33:26"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:33:27"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:33:27"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:33:27"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345174204,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761345207001,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:33:51"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:34:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:34:31"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:34:31"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:34:42"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:34:42"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:34:54"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:34:54"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:34:54"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:34:55"}
{"ETH_NGN":2525322.841895639,"ETH_USD":1675.0188177625357,"USDT_NGN":1497.8425316165215,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345294006,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761345321497,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:35:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:35:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:35:26"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:35:28"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:35:28"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:35:28"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:35:28"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:35:29"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:35:30"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:35:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:35:30"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345294006,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761345330486,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:35:51"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:36:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:36:31"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:36:31"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 23:36:45"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 23:36:45"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 23:36:45"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 23:36:45"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 23:36:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:36:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:36:55"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:36:56"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:36:56"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:36:56"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:36:56"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:37:08"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:37:08"}
{"level":"error","message":"Error checking phone registration: (intermediate value).clone is not a function","service":"terifi-backend","stack":"TypeError: (intermediate value).clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:572:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:137:14)","timestamp":"2025-10-24 23:37:18"}
{"level":"error","message":"Error checking wallet registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:151:14)","timestamp":"2025-10-24 23:37:18"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 23:37:18"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 23:37:18"}
{"level":"error","message":"Error mapping phone to wallet: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:37:18"}
{"level":"error","message":"Blockchain registration failed: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:37:18"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:37:18"}
{"level":"error","message":"Register user error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:37:18"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:37:18 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:37:18"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:37:19"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:37:19"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:37:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:37:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:37:45"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345439405,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345416070,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:37:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:37:46"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:37:47"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:37:48"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:37:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:37:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:37:54"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345439405,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345468924,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:38:15"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:38:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:38:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:38:55"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:38:55"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:38:55"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:38:55"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:39:07"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:07"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:39:10 +0000] \"POST /health HTTP/1.1\" 404 45 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:39:10"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:39:19"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:19"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:39:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:20"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:39:33 +0000] \"GET /health HTTP/1.1\" 200 93 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:39:33"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345559410,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345535918,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"error":"","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"error":"Failed to read Chainlink feed for USDC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:45"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:46"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:46"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:47"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:39:47"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:39:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:39:49"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:39:49 +0000] \"GET /api/user/register HTTP/1.1\" 404 45 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:39:49"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345559410,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345587297,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:40:15"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:40:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:40:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:40:55"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:41:00"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:41:00"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:41:00"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:41:11"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:41:11"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:41:22"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:41:22"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:41:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:41:24"}
{"ETH_NGN":2524648.395519839,"ETH_USD":1683.5868290059923,"USDT_NGN":1490.4539650298073,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 23:41:44"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345682795,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761345705378,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:41:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:41:46"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:41:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:41:49"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345682795,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345705928,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:42:15"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:42:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:42:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:42:55"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:42:55"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:42:55"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:42:55"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:43:12"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:43:12"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:43:23"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:43:23"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:43:23"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:43:25"}
{"level":"error","message":"Error checking phone registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isPhoneNumberRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:137:14)","timestamp":"2025-10-24 23:43:30"}
{"level":"error","message":"Error checking wallet registration: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async JsonRpcProvider.call (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:719:16)\n    at async staticCallResult (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:245:22)\n    at async staticCall (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:219:24)\n    at async Proxy.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:259:20)\n    at async PhoneWalletMappingService.isWalletAddressRegistered (/home/izk/Documents/kudipay_backend/backend/src/services/phoneWalletMappingService.js:151:14)","timestamp":"2025-10-24 23:43:30"}
{"level":"info","message":"Creating wallet for +2349028874824...","service":"terifi-backend","timestamp":"2025-10-24 23:43:30"}
{"level":"info","message":"Mapping +2349028874824 to 0x0E82Fed60552489faB78313Bc3844f37d45c77Ef on-chain...","service":"terifi-backend","timestamp":"2025-10-24 23:43:30"}
{"level":"error","message":"Error mapping phone to wallet: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:43:30"}
{"level":"error","message":"Blockchain registration failed: expected.clone is not a function","service":"terifi-backend","stack":"TypeError: expected.clone is not a function\n    at JsonRpcProvider.getNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:595:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async resolveProperties (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/properties.js:36:21)\n    at async #checkNetwork (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:708:27)\n    at async #getAccountValue (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:728:16)\n    at async JsonRpcProvider.getTransactionCount (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-provider.js:734:42)\n    at async Wallet.populateTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:69:25)\n    at async Wallet.sendTransaction (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/providers/abstract-signer.js:199:21)\n    at async send (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/contract/contract.js:228:20)","timestamp":"2025-10-24 23:43:30"}
{"level":"error","message":"Create wallet error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:43:30"}
{"level":"error","message":"Register user error: Failed to register on blockchain: expected.clone is not a function","service":"terifi-backend","stack":"Error: Failed to register on blockchain: expected.clone is not a function\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:66:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-24 23:43:30"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:22:43:30 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-24 23:43:30"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:43:45"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345803155,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345775934,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:43:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:43:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:43:50"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:43:51"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345803155,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345775934,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:44:15"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:44:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:44:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:44:55"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:45:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:06"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:45:07"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:45:07"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:07"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:45:18"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:18"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:45:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:19"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345918474,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345907636,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"error":"","feedAddress":"0x7e860098F58bBFC8648a4311b374B1D669a2bc6B","level":"error","message":"Chainlink feed read error:","pair":"USDC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"error":"Failed to read Chainlink feed for USDC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:45"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:46"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:46"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:47"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:45:47"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:45:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:47"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:45:50"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761345918474,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761345947533,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:46:15"}
{"ETH_NGN":2506259.3255490754,"ETH_USD":1731.7795364760154,"USDT_NGN":1500.1222983989596,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-24 23:46:44"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:46:45"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 23:46:46"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:46:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:46:55"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:47:00"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:47:00"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:00"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:47:11"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:11"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:47:23"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:23"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:47:23"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:47:23"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:47:23"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:23"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:47:24"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:47:45"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761346043017,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761346043538,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:47:45"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:47:46"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:47:47"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:47:48"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:47:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:47:49"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:47:50"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:47:50"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:47:50"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761346043017,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761346070262,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-24 23:48:15"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-24 23:48:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:48:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:48:55"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:49:06"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:49:06"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:49:18"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:49:18"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:49:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-24 23:49:19"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 23:50:19"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 23:50:20"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 23:50:20"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 23:50:20"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 23:50:20"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-24 23:50:20"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:50:30"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:50:30"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:50:30"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:50:30"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:50:30"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-24 23:59:14"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-24 23:59:14"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-24 23:59:19"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-24 23:59:19"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-24 23:59:19"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:59:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:59:24"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:59:29"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:59:29"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:59:29"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-24 23:59:45"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:59:45"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:59:56"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:59:56"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-24 23:59:56"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-24 23:59:57"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-24 23:59:57"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-24 23:59:57"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-24 23:59:57"}
{"level":"warn","message":"CryptoCompare failed:","service":"terifi-backend","timestamp":"2025-10-25 00:00:05"}
{"level":"warn","message":"ExchangeRate-API failed:","service":"terifi-backend","timestamp":"2025-10-25 00:00:13"}
{"error":"All fallback providers failed","level":"error","message":"FallbackProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:00:13"}
{"level":"error","message":"Provider fallback failed:","service":"terifi-backend","timestamp":"2025-10-25 00:00:13"}
{"level":"error","message":"Failed to fetch BTC/NGN:","service":"terifi-backend","timestamp":"2025-10-25 00:00:13"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:00:13"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:00:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":1,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761346796828,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761346797356,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:00:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:00:15"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:00:17"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:00:17"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:00:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:00:17"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:00:18"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:00:18"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:00:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:00:19"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:00:19"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:00:19"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:00:19"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:00:19"}
{"code":"TIMEOUT","level":"error","message":"Error checking phone registration: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-25 00:00:28"}
{"level":"error","message":"Create wallet error: Wallet address already registered on blockchain","service":"terifi-backend","stack":"Error: Wallet address already registered on blockchain\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:44:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-25 00:00:30"}
{"level":"error","message":"Register user error: Wallet address already registered on blockchain","service":"terifi-backend","stack":"Error: Wallet address already registered on blockchain\n    at WalletService.createWallet (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:44:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registerUser (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:48:26)","timestamp":"2025-10-25 00:00:30"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:00:30 +0000] \"POST /api/user/register HTTP/1.1\" 500 53 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:00:30"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761346796828,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761346819639,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:00:44"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-25 00:01:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761346796828,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761346819639,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:01:14"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:01:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:01:24"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-25 00:01:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:01:24"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:01:24"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:01:24"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:01:40"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:01:40"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:01:57"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:01:57"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:01:57"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:01:58"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761346917195,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761346884990,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:02:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:15"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:02:15"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:02:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:16"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:02:16"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:02:16"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:02:16"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:16"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:02:17"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:02:17"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:02:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:02:17"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:02:18"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0xfeaf968c\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:02:18"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:02:18"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:02:18"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761346917195,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761346938799,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:02:44"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-25 00:03:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761346917195,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761346938799,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:03:14"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:03:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:03:24"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-25 00:03:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:03:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:03:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:03:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:03:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:03:37"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:03:37"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:03:49"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:03:49"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:03:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:03:50"}
{"ETH_NGN":2511706.26887557,"ETH_USD":1702.8813943189625,"USDT_NGN":1505.4297900332542,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-25 00:04:13"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:04:14"}
{"error":"No Chainlink feed available for USD/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USD/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:04:14"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:04:14"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:04:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:04:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347029002,"status":"CIRCUIT_OPEN"},"secondary":{"failures":1,"lastFailure":1761347054454,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:04:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:04:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:04:16"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:04:17"}
{"error":"Failed to read Chainlink feed for BTC/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:04:17"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:04:17"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:04:23"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:04:23"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:04:23"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:04:23"}
{"level":"info","message":"Creating wallet for +2349028874825...","service":"terifi-backend","timestamp":"2025-10-25 00:04:26"}
{"level":"info","message":"Mapping +2349028874825 to 0xE20be01044ddc0669DcC1955B445787040a3f954 on-chain...","service":"terifi-backend","timestamp":"2025-10-25 00:04:26"}
{"level":"info","message":"Transaction submitted: 0x3205cc11c182b872bf32a73098cd8f0dc2573a987250eb8002cd275afe9e0f2d","service":"terifi-backend","timestamp":"2025-10-25 00:04:29"}
{"level":"info","message":"Mapping confirmed in block 32789391","service":"terifi-backend","timestamp":"2025-10-25 00:04:30"}
{"block":32789391,"gasUsed":"126712","level":"info","message":"Blockchain registration successful:","phone":"+2349028874825","service":"terifi-backend","timestamp":"2025-10-25 00:04:30","txHash":"0x3205cc11c182b872bf32a73098cd8f0dc2573a987250eb8002cd275afe9e0f2d","wallet":"0xE20be01044ddc0669DcC1955B445787040a3f954"}
{"blockchainTxHash":"0x3205cc11c182b872bf32a73098cd8f0dc2573a987250eb8002cd275afe9e0f2d","level":"info","message":"Wallet created successfully for +2349028874825:","service":"terifi-backend","timestamp":"2025-10-25 00:04:30","userId":1,"walletAddress":"0xE20be01044ddc0669DcC1955B445787040a3f954"}
{"level":"info","message":"Sending SMS to +2349028874825...","service":"terifi-backend","timestamp":"2025-10-25 00:04:30"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:04:30 +0000] \"POST /api/user/register HTTP/1.1\" 201 169 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:04:30"}
{"level":"info","message":"SMS sent successfully:","messageId":"ATXid_5a39421a085d253a6425b3f9313a64e5","phone":"+2349028874825","service":"terifi-backend","status":"Success","statusCode":101,"timestamp":"2025-10-25 00:04:37"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347029002,"status":"CIRCUIT_OPEN"},"secondary":{"failures":2,"lastFailure":1761347063832,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:04:44"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-25 00:05:14"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-25 00:05:21"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:05:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:05:24"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:05:29"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:05:29"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:05:29"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:05:29"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:05:30"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:05:41"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:05:41"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:05:41"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:05:42"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":2,"lastFailure":1761347141718,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761347129501,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:05:44"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:05:55"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:05:55"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:05:55"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:05:55"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:05:56"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:05:56"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:14"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347155110,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761347129501,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:06:14"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:06:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:18"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:18"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:18"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:19"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:06:19"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347155110,"status":"CIRCUIT_OPEN"},"secondary":{"failures":3,"lastFailure":1761347129501,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:06:44"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-25 00:07:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":0,"lastFailure":1761347155110,"status":"HEALTHY"},"secondary":{"failures":3,"lastFailure":1761347129501,"status":"CIRCUIT_OPEN"}},"service":"terifi-backend","timestamp":"2025-10-25 00:07:14"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:07:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:07:24"}
{"level":"info","message":"Circuit breaker closed for secondary","service":"terifi-backend","timestamp":"2025-10-25 00:07:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:07:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:07:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:07:25"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:07:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:07:36"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:07:36"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:07:48"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:07:48"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:07:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:07:49"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:14"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347268167,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761347245046,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:08:14"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:15"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:15"}
{"error":"No Chainlink feed available for USDT/USD","level":"error","message":"ChainlinkProvider.getRate error:","pair":"USDT/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:08:15"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:08:15"}
{"error":"missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:08:16"}
{"error":"Failed to read Chainlink feed for ETH/USD: missing revert data (action=\"call\", data=null, reason=null, transaction={ \"data\": \"0x313ce567\", \"to\": \"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:08:16"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:08:16"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:21"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:22"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:08:22"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:08:22"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:08:22"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:08:22"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":1761346813876,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347268167,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761347302485,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:08:44"}
{"ETH_NGN":2555881.5512300488,"ETH_USD":1727.2468686372483,"USDT_NGN":1504.1629962186864,"level":"info","message":"Exchange rates updated","service":"terifi-backend","timestamp":"2025-10-25 00:09:13"}
{"level":"info","message":"Circuit breaker closed for primary","service":"terifi-backend","timestamp":"2025-10-25 00:09:14"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:09:24"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:09:24"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:09:25"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:09:25"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:09:25"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:09:36"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:09:36"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:09:36"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:09:36"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:09:36"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:09:47"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:09:47"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:09:47"}
{"error":"","feedAddress":"0x64c911996D3c6aC71f9b455B1E8E7266BcbD848F","level":"error","message":"Chainlink feed read error:","pair":"BTC/USD","service":"terifi-backend","timestamp":"2025-10-25 00:09:48"}
{"error":"Failed to read Chainlink feed for BTC/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:09:48"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:09:48"}
{"level":"error","message":"Circuit breaker opened for secondary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:09:48"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:09:49"}
{"level":"warn","message":"Circuit breaker open for secondary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:09:49"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:10:02 +0000] \"GET /api/user/profile/+2349028874825 HTTP/1.1\" 200 273 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:10:02"}
{"level":"info","message":"SMS Service initialized (SANDBOX mode)","service":"terifi-backend","timestamp":"2025-10-25 00:15:06"}
{"level":"info","markup":{"BTC_NGN":0.025,"ETH_NGN":0.025,"USDC_NGN":0.02,"USDT_NGN":0.02,"maxMarkup":0.05,"minMarkup":0.01,"volatilityAdjustment":true},"message":"FxEngine initialized with production configuration","service":"terifi-backend","supportedPairs":9,"timestamp":"2025-10-25 00:15:06"}
{"level":"info","message":"PostgreSQL database connected successfully","service":"terifi-backend","timestamp":"2025-10-25 00:15:12"}
{"level":"info","message":"Teri-Fi Backend server running on port 3000","service":"terifi-backend","timestamp":"2025-10-25 00:15:12"}
{"level":"info","message":"Environment: development","service":"terifi-backend","timestamp":"2025-10-25 00:15:12"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-25 00:15:13"}
{"level":"warn","message":"Failed to fetch USD/NGN rate, using fallback:","service":"terifi-backend","timestamp":"2025-10-25 00:15:13"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:15:16"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:15:16"}
{"code":"TIMEOUT","level":"error","message":"Get balance error: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-25 00:15:20"}
{"code":"TIMEOUT","level":"error","message":"Get balance error: request timeout (code=TIMEOUT, version=6.15.0)","service":"terifi-backend","shortMessage":"request timeout","stack":"Error: request timeout (code=TIMEOUT, version=6.15.0)\n    at makeError (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/errors.js:137:21)\n    at ClientRequest.<anonymous> (/home/izk/Documents/kudipay_backend/backend/node_modules/ethers/lib.commonjs/utils/geturl.js:59:50)\n    at ClientRequest.emit (node:events:507:28)\n    at TLSSocket.emitRequestTimeout (node:_http_client:863:9)\n    at Object.onceWrapper (node:events:621:28)\n    at TLSSocket.emit (node:events:519:35)\n    at Socket._onTimeout (node:net:609:8)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-25 00:15:20"}
{"level":"error","message":"Get user profile error: Failed to retrieve balance","service":"terifi-backend","stack":"Error: Failed to retrieve balance\n    at WalletService.getBalance (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:122:13)\n    at async getUserProfile (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:93:23)","timestamp":"2025-10-25 00:15:20"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:15:20 +0000] \"GET /api/user/profile/+2349028874825 HTTP/1.1\" 500 61 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:15:20"}
{"error":"request timeout (code=TIMEOUT, version=6.15.0)","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:15:21"}
{"error":"Failed to read Chainlink feed for ETH/USD: request timeout (code=TIMEOUT, version=6.15.0)","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:15:21"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:15:21"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:15:29"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:15:41"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:15:41"}
{"code":"ETIMEDOUT","level":"error","message":"Get balance error:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-25 00:15:51"}
{"code":"ETIMEDOUT","level":"error","message":"Get balance error:","service":"terifi-backend","stack":"AggregateError [ETIMEDOUT]: \n    at internalConnectMultiple (node:net:1139:18)\n    at internalConnectMultiple (node:net:1215:5)\n    at Timeout.internalConnectMultipleTimeout (node:net:1741:5)\n    at listOnTimeout (node:internal/timers:610:11)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2025-10-25 00:15:51"}
{"level":"error","message":"Get user profile error: Failed to retrieve balance","service":"terifi-backend","stack":"Error: Failed to retrieve balance\n    at WalletService.getBalance (/home/izk/Documents/kudipay_backend/backend/src/services/walletService.js:122:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserProfile (/home/izk/Documents/kudipay_backend/backend/src/controllers/userController.js:93:23)","timestamp":"2025-10-25 00:15:51"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:15:51 +0000] \"GET /api/user/profile/+2349028874825 HTTP/1.1\" 500 61 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:15:51"}
{"error":"Binance API request failed: timeout of 10000ms exceeded","level":"error","message":"BinanceProvider.getRate error:","pair":"BTC/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:15:52"}
{"level":"error","message":"Provider primary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:15:52"}
{"level":"error","message":"Circuit breaker opened for primary after 3 failures","service":"terifi-backend","timestamp":"2025-10-25 00:15:52"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:15:54"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:15:59 +0000] \"GET /api/user/profile/+2349028874826 HTTP/1.1\" 404 44 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:15:59"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:16:01 +0000] \"GET /api/user/profile/+2349028874826 HTTP/1.1\" 404 44 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:16:01"}
{"level":"info","message":"::ffff:127.0.0.1 - - [24/Oct/2025:23:16:06 +0000] \"GET /api/user/profile/+2349028874825 HTTP/1.1\" 200 273 \"-\" \"Thunder Client (https://www.thunderclient.com)\"","service":"terifi-backend","timestamp":"2025-10-25 00:16:06"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:16:06"}
{"level":"warn","message":"Provider health check:","providers":{"fallback":{"failures":0,"lastFailure":null,"status":"HEALTHY"},"primary":{"failures":3,"lastFailure":1761347752705,"status":"CIRCUIT_OPEN"},"secondary":{"failures":0,"lastFailure":1761347721950,"status":"HEALTHY"}},"service":"terifi-backend","timestamp":"2025-10-25 00:16:06"}
{"error":"","feedAddress":"0x71041dddad3595F9CEd3DcCFBe3D1F4b0a16Bb70","level":"error","message":"Chainlink feed read error:","pair":"ETH/USD","service":"terifi-backend","timestamp":"2025-10-25 00:16:07"}
{"error":"Failed to read Chainlink feed for ETH/USD: ","level":"error","message":"ChainlinkProvider.getRate error:","pair":"ETH/NGN","service":"terifi-backend","timestamp":"2025-10-25 00:16:07"}
{"level":"error","message":"Provider secondary failed:","service":"terifi-backend","timestamp":"2025-10-25 00:16:07"}
{"level":"warn","message":"CoinGecko failed:","service":"terifi-backend","timestamp":"2025-10-25 00:16:07"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:16:08"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:16:10"}
{"level":"warn","message":"Circuit breaker open for primary, skipping","service":"terifi-backend","timestamp":"2025-10-25 00:16:11"}
